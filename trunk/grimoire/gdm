#  VERSION=( "2.14.1" "2.14.0" "2.8.0.7" "2.8.0.6" "2.8.0.5" "2.8.0.4" "2.8.0.3" "2.8.0.2" "2.8.0.1" "2.8.0.0" )
   VERSION=( "2.14.0" "2.8.0.7" "2.8.0.6" "2.8.0.5" "2.8.0.4" "2.8.0.3" "2.8.0.2" "2.8.0.1" "2.8.0.0" )
    IGNORE="^2\.15\."
# 2.14.1 has compile error
  CATEGORY="window-manager"
 ATTRIBUTE="gnome"
    SOURCE="sources/gdm/${VERSION%.*}/gdm-$VERSION.tar.bz2"
  HOMEPAGE="http://www.gnome.org/projects/gdm/"
       URL="$GNOME_URL"
       REQ=( "bzip2 libgnomeui libgsf librsvg scrollkeeper"
             "Linux-PAM:::for pluggable authentication"
             "libselinux:--with-selinux:--without-selinux:for selinux support"
             "tcp_wrappers:--with-tcp-wrappers=yes:--with-tcp-wrappers=no:to control allowed remote connections using tcp_wrappers" )
  ESTIMATE="615"
 FRESHMEAT="gnomedisplaymanager"
      DESC="gdm, Gnome Display Manager, is an improved xdm.
gdm the Gnome Display Manager is a re-implementation
of the well known xdm program."

build() {
  if    spell_installed  Linux-PAM;  then  SCHEME="pam"
  elif  spell_installed  shadow;     then  SCHEME="shadow"
  else  SCHEME="auto"
  fi

  AUTH_SCHEME="--enable-authentication-scheme=$SCHEME"

  groupadd  gdm           2>/dev/null
  useradd   gdm  -g  gdm  2>/dev/null

  ./configure           \
  --prefix=/usr         \
  --localstatedir=/var  \
  --sysconfdir=/etc     \
  $AUTH_SCHEME          &&
  make                  &&
  prepare_install       &&
  make    install       &&
  mkdir  -p           /var/gdm  &&
  chown  -R  gdm:gdm  /var/gdm  &&
  chmod  750          /var/gdm
}
