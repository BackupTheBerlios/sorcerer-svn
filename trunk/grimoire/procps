# removing library attribute until something else links with it's ELF library.

   version stable 3.2.8
   require ncurses
# requiring init-functions creates a recursive requirement loop
#  require init-functions ncurses
# libselinux
  category utility
 attribute console library lto makej multilib-fail solo
#attribute library
    source http://procps.sourceforge.net/procps-$VERSION.tar.gz
      info good 20120630
      info home http://procps.sourceforge.net/
   protect /bin/kill
   protect /bin/ps
      desc 'utilities to report the state of the box
procps is a package of utilities which reports on the state of the system,
including the states of running processes, amount of memory available and
currently logged in users.'

build(){
 mv_to_bin(){
  mkdir -pvm 755 $DESTDIR/bin
  mv     -v      $DESTDIR/{usr/bin/{pgrep,pkill,top},bin/}
 }

 LD='-Wl,-warn-common'
 sed -i "s:-O2 -g3:$CFLAGS:
         s:$LD:$LD $LDFLAGS:" Makefile
 make &&
 make install -e XSCPT='' DESTDIR=$DESTDIR ldconfig=echo &&
 mv_to_bin
}

current(){
 case $VERSION in
  3.2.8) [ -f /bin/pgrep ] ;;
 esac
}
