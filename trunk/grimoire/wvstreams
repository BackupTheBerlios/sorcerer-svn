# optionals not used for wvdial.

#optional libogg --with-ogg --without-ogg with ogg support
#optional libvorbis --with-vorbis --without-vorbis for vorbis support
#optional Linux-PAM --with-pam --without-pam for PAM support
#optional tcl --with-tcl --without-tcl for tcl support
#optional swig --with-swig --without-swig  for swig support
#optional qt-x11-free --without-qt --without-qt for qt support
#optional openssl '' '' for secure connections

# 4.5 has install error

   stable 4.4.1 4.4 4.3 4.2.2 4.2.1 4.2 4.0.2 4.0.1 4.0
 unstable 4.5
   require db zlib
  category network
 attribute library
    source http://wvstreams.googlecode.com/files/wvstreams-$VERSION.tar.gz
  homepage http://alumnit.ca/wiki/?page=WvStreams
case $VERSION in
   4.5) use_gcc gcc-v4.0 ;;
 4.2.2) use_gcc gcc-v4.0 ;;
esac
  estimate 600
      desc 'wvstreams are C++ libraries used by wvdial.
WvStreams is a library set composed of a number of parts.
Among them are 
WvIPStreams (WvTCPStream and WvUDPStream), 
WvStrings (yet another C++ String class), 
WvCrypto Streams (including an easy way to add SSL support to applications), 
WvConf (a configuration file handler), 
WvLog (nice, simple handling of log files), 
and a whole host of other goodness.
These are the base classes used to build programs such as the
ever popular WvDial, TunnelVision, FastForward, KWvDial, and retchmail.'


build(){
 case $VERSION in
  4.4.1) sed -i '1i#include <climits>' include/uniconfkey.h
         sed -i 's:_wv_deserialize<WvString>:_wv_deserialize:
                 s:WvDeserialize<WvBuf *>:WvDeserialize:
                 s:extern WvString _wv_deserialize:WvString _wv_deserialize:' \
             include/wvserialize.h ;;
 esac
 default_build
}
