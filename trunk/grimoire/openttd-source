# 1.0.5 source tarball might be missing files and therefore fails compilation
# 1.0.4 fails compilation with same error as 1.0.5
# What *.pcx files are missing and not included in the source tree?

   version   stable 1.2.0
   require SDL fontconfig grfcodec icu4c libpng libtimidity lzo2 opengfx openmsx opensfx
  category game
 attribute x11
    source http://binaries.openttd.org/releases/$VERSION/openttd-$VERSION-source.tar.xz
      info last 20120113
      info home http://www.openttd.org/en/
      info vurl http://www.openttd.org/en/download-stable
      desc 'open transport tycoon deluxe video game

The music player requires libtimidity.
Although it compiles fine the lack of a proper configuration file
for libtimidity might be cause for it to not be able to play midi songs
during game.
The songs can be played separately
using the playmus command line utility
from SDL_mixer if the midi music is desired.
'

build(){
./configure       \
--prefix-dir=/usr \
--binary-dir=bin  &&
make &&
make install INSTALL_DIR=$DESTDIR
}
