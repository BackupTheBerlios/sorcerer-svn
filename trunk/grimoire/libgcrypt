# cryptsetup dynamically links with libgcrypt
# cryptsetup runs from sysinit
# sysinit may run on an initramfs image
# Therefore, libgcrypt must have libraries installed in /lib or /lib64

    stable 1.4.1 1.4.0 1.2.4 1.2.3 1.2.2 1.2.1 1.2.0
   require libgpg-error

  category security/encryption
 attribute library
    source libgcrypt-$VERSION.tar.bz2
       url ftp://ftp.gnupg.org/gcrypt/libgcrypt/
  homepage http://directory.fsf.org/security/libgcrypt.html
      opts --enable-static=no --libdir=/lib
  estimate 600
      desc 'libgcrypt is a general purpose crypto library.
libgcrypt is a general purpose crypto
library based on the code used in GnuPG.'

build(){
 case $HOSTTYPE in
  x86_64) OPTS+='64' ;;
 esac
 default_build
}

case $VERSION in
 1.4.1) [ -f   /lib/libgcrypt.so.11.4.4 ] ||
        [ -f /lib64/libgcrypt.so.11.4.4 ] ;;
esac
