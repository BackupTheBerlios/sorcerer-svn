if  !  [  -d  /usr/gcc-2.95.3  ];  then  echo  "gcc2"  >>  $INSTALL_QUEUE;  fi
if  !  [  -d  /usr/gcc-3.2     ];  then  echo  "gcc"   >>  $INSTALL_QUEUE;  rm  -f  $PROVIDE_LOGS/gcc;  fi

destroy()  {
  if    spell_installed   $1;  then
    dispel  --unsafe      $1
    rm  -f  $INSTALL_LOGS/$1
    rm  -f  $COMPILE_LOGS/$1
    rm  -f  $VERSION_LOGS/$1
    rm  -f   $MD5SUM_LOGS/$1
  fi
}

# The following spells have been renamed.
# The following damage will be healed.

destroy  pygtk2
destroy  gtk+2
destroy  gtkmm2
destroy  glib2
destroy  GConf2
destroy  gtk-engines2
destroy  libglade2
destroy  gnome-vfs2
destroy  libgda2
destroy  gnome-db2
destroy  control-center2
destroy  eel2
destroy  freetype2
destroy  librsvg2
destroy  libsigc++2

destroy  pygtk1
destroy  gtk+1
destroy  gtkmm1
destroy  glib1
destroy  GConf1
destroy  gtk-engines1
destroy  libglade1
destroy  gnome-vfs1
destroy  libgda1
destroy  gnome-db1
destroy  control-center1
destroy  eel1
destroy  freetype1
destroy  librsvg1
destroy  libsigc++1


(

  cd  $INSTALL_LOGS
  grep  "/usr/lib/libstdc++.la"                \
        $( find /lib  /usr/lib -name \*.la  )  |
  cut  -d :  -f1                               |
  while  read     FILE
  do     grep  "^$FILE$"  *
  done            |
  cut  -d :  -f1  |
  sort            |
  uniq            >>  $INSTALL_QUEUE

)


if    [  -d  /var/log/sorcery/branch   ]  &&
      [  -x  $GRIMOIRE/meta/evolve.sh  ]
then         $GRIMOIRE/meta/evolve.sh
fi
