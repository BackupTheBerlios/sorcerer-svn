Sorcerer News for 20030717

Subject:  libar, library archives changes  *Important*


-rw-r--r--    1 root     root         281K Feb  4 16:03 /lib/libncurses.so.5.3

The sorcery tools are designed to handle the 
problems that arise from using ELF shared 
library files such as the one above.


-rw-r--r--    1 root     root         381K Feb  4 16:03 /lib/libncurses.a

Ar archives, library files used for static linking 
like the one above, are rarely used on sorcerer boxes.


libar is a new sorcery feature which you should probably enable.
When libar is enabled then ar archives such 
as libncurses.a are installed by spells.
This has been the default behavior of 
sorcery for the past three years.
If you want this you must now enable it.

For boxes that have little disk space available libar
can be disabled so that ar archives are not installed.
This is useful for spells where one knows that both
static and dynamic libraries are installed and the
static libraries are never used.

If you have libar off and encounter linking errors
when compiling spells and all required spells for 
the spell being cast are installed, then a careful 
examination of the line may reveal that it was 
trying to link using ar instead of elf libraries.
This should be rare, but please report it when it 
happens so that spells can be adjusted.

If you don't want to deal with the problems that 
may arise from not having ar libraries installed 
when compiling software then enable libar.
While this idea is workable it may take a few
months of spotting problems and honing the
grimoire before it works smoothly.

Eventually libar will be defaulted off.
There are few uses for ar libraries on modern boxes.
Perhaps less than 10 spells should require them.
