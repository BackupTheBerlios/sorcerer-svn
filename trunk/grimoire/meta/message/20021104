Sorcerer News for 20021004

Subject:  Hard luck yields soft breaks, not hard breaks!

Previously, the action of dispelling or upgrading a library
would cause other installed libraries and programs that linked
with the previously installed library to fail runtime linking.
Simply put, this caused installed programs to not run.
The breaks would be identified by heal.
Heal would recompile the software.
The box would repair itself.
However, I did not like the momentary breaking in installed software.
Consequently, I reimplemented the way libraries are saved.

heal now predicts what installed libraries and programs
would break due to recent upgrades and attempts to 
recast them, while they are still working.
Therefore, even if the new casts fails, 
the previously installed software continues working.

I expect this improvement is probably the reason why
my email box has not burned down since I upgraded 
db to 4.1.24.

Another effect of these improvements is that even dispelling
libraries such as ncurses, readline, glibc 2.3.1, etc...
should not cause other installed software to stop working.
Naturally, spells for core libraries have to 
be installed before casting works again.
However that is much preferable to 
having installed software quit running.

Summary:

Hard breaks occurs when an installed program 
fails to run because a shared library it requires 
for linking at runtime is no longer present.  

The difference between hard breaks and soft breaks
is that with a soft break the installed programs 
continue running although spells for libraries that
it links with have been dispelled or upgraded.

Upgrades now cause only soft breaks.

Heal can detect and repair both hard breaks and soft breaks.

Sorcerer boxes now continue running stable even 
during the upgrades of critical libraries such as db.
