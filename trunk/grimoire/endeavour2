   VERSION=( "2.5.7" "2.5.6" "2.5.3" "2.5.2" "2.5.1" "2.4.6" "2.4.5" "2.4.4" )
  CATEGORY="file-manager"
 ATTRIBUTE="x11"
     SOURCE=( "users/wolfpack/endeavour-$VERSION.tar.bz2"
              "Endeavour2/contrib/files/taras_mimetypes.ini.bz2" )
        URL="http://wolfpack.twu.net"
  HOMEPAGE="http://wolfpack.twu.net/Endeavour2"
       REQ=( "imlib iv libungif"
             "ziptool:::for controlling IOMega JAZ/ZIP drives" )
  ESTIMATE="232"
      DESC="endeavour2 is a gtk+-v1.2 file manager.
endeavour2 is a file browser/file manager with an image browser,
a recycled objects system, and an archiver front end.
It features all the common UNIX file operations for
all types of disk objects found the UNIX realm.
It also supports disk drive mounting, a fully customizable
window appearance, a MIME Types system, and inter-application
drag & drop support for KDE and GNOME compatability
(although KDE and GNOME are not required)."


build()  {

install_mimetypes() {
  mkdir     -p     /usr/share/endeavour2
  bunzip2  -cd  $SOURCE_CACHE/endeavour2/$VERSION/${SOURCE[1]##*/}  >  \
                   /usr/share/endeavour2/mimetypes.ini
}

sed  -i  "s:glib-config:gtk-config:g"  endeavour2/utils/Makefile
echo "// empty header" > include/xsw_ctype.h

sed  -i  "s:MAKE = gmake:MAKE = make:"  Makefile

case  $VERSION  in
  2.5.6)  sed  -i  "s:-lgif:-lungif:g"  endeavour2/platforms.ini  ;;
esac

./configure         \
Linux               \
--prefix=/usr       \
--CFLAGS="$CFLAGS"  &&
make                &&
prepare_install     &&
make    install     &&
        install_mimetypes
}
