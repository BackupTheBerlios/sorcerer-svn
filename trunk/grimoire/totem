# Hope this compiles without libepc because libepc is broke and not compiling

# Why does totem 2.24.2 require tracker?
# Or is it optional?
# tracker is an optional requirement for totem

   version stable 3.0.0 2.91.93 2.32.0
   require bluez libXtst libepc libgdata libpeas
#  require bluez libXtst libepc libgdata libpeas tracker
  optional bluez ''                ''                 for bluetooth support
  optional lirc       --enable-lirc     --disable-lirc     for lirc support
# optional lirccd
  optional firefox    --enable-mozilla  --disable-mozilla  for mozilla/seamonkey/firefox plugin
  optional nautilus   --enable-nautilus --disable-nautilus for nautilus plugin
      opts --disable-gstreamer --enable-static=no
  category video/dvd video/player
 attribute gnome makej
    source $GNOME_URL sources/totem/${VERSION:0:3}/totem-$VERSION.tar.bz2
  homepage http://www.gnome.org/projects/totem/
# This spell uses xine-lib instead of gstreamer for playing movies.
      desc 'movie player for gnome based on xine'

build(){
 export LDFLAGS+=' -L/usr/lib/mozilla -Wl,-rpath,/usr/lib/mozilla'
 export PKG_CONFIG_PATH='/usr/share/pkgconfig'

 sed -i 's:hardcode_into_libs=yes:hardcode_into_libs=no:' configure
 default_build
}
