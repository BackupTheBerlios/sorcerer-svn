#!/bin/bash
# Set all cores to minimum frequency.
# This is good for conserving power,
# reducing CPU heat
# and for running the fan less often
# when the fan is controlled by the fancontrol program
# CPU fan control left to BIOS can be very loud.

if   (( UID == 0 )) && ! lsmod | grep -q cpufreq_powersave
then modprobe cpufreq_powersave
fi

for CPU in /sys/devices/system/cpu/cpu*/cpufreq/scaling_governor
do echo powersave > $CPU
done
