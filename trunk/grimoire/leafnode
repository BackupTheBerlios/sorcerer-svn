    stable 1.11.8 1.11.7 1.11.6
    secure 1.11.6
   require pcre
  category network/news
 attribute server console
    source $SOURCEFORGE_URL leafnode/leafnode/$VERSION/leafnode-$VERSION.tar.bz2
  homepage http://www.leafnode.org
  estimate 100
      desc 'NNTP sever for small site
leafnode is a news server, suitable for small, limited-bandwidth
sites with only a few users (and useful for offline news reading).
Leafnode keeps track of which groups are being
read and downloads only articles in those groups.
Leafnode has been designed to require
no maintenance and to be easy to set up.'

build(){

install_conf(){
 if    !     [ -f  /etc/leafnode/config ]; then
   cp              /etc/leafnode/config.example \
                   /etc/leafnode/config
   chown news:news /etc/leafnode/config
   chmod -R 664    /etc/leafnode/config
 fi
}

mkdir    -p -m 2755 /var/spool/news
groupadd -K GID_MIN=256 -K GID_MAX=511    news                         2>/dev/null
useradd  -K UID_MIN=256 -K UID_MAX=511 -g news -d /var/spool/news news 2>/dev/null
chown    -R news:news /var/spool/news

./configure                \
--prefix=/usr              \
--sysconfdir=/etc/leafnode \
--localstatedir=/var       \
$OPTS                      &&
make                       &&
prepare_install            &&
make    install            &&
        install_conf
}
