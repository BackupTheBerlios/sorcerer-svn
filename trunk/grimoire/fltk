# 1.3.0 is available but can anything use it?

   version stable 1.3.0 1.1.10 1.1.9 1.1.8 1.1.7
   require jpeg libXext libXft libXi libXinerama libpng
      opts --enable-shared
# Will not accept command to disable static libs.
#     opts --enable-static=no
  category graphic
 attribute library makej setarch x11
#attribute multilib-concurrent multilib-dual
    source http://ftp.easysw.com/pub/fltk/ \
           http://ftp2.easysw.com/pub/fltk/ \
           http://ftp.funet.fi/pub/mirrors/ftp.easysw.com/pub/fltk/ \
           http://ftp.rz.tu-bs.de/pub/mirror/ftp.easysw.com/ftp/pub/fltk/ \
           $VERSION/fltk-$VERSION-source.tar.gz
#          $VERSION/fltk-$VERSION-source.tar.bz2
      info vurl http://www.fltk.org/software.php
      info good 20120909
      info last  20110616
      info home  http://www.fltk.org/
      info docs  http://www.fltk.org/documentation.php
      info forum http://www.fltk.org/newsgroups.php
      desc 'fast light graphical toolkit for X11'

build(){
 if   [[ $HOSTTYPE == x86_64 ]] && ! [[ $CFLAGS =~ -m32 ]]
 then OPTS+=' --x-libraries=/usr/lib64'
 else OPTS+=' --x-libraries=/usr/lib'
 fi

 rm -f CMakeLists.txt
 sed -i 's:-Wl,-rpath,$libdir:-L$libdir:' configure
 default_build &&
 rm -f $DESTDIR/usr/lib{,64}/libfltk*.a
}

build_old(){
 sed -i 's:-Wl,-rpath,$libdir:-L$libdir:' configure
 ./configure             \
 --prefix=/usr           \
 --sysconfdir=/etc       \
 --localstatedir=/var    \
 --enable-shared         \
 $OPTS                   &&
 make            CXX=g++ &&
 make    install CXX=g++ "DESTDIR=$DESTDIR" &&
 rm -f $DESTDIR/usr/lib{,64}/libfltk*.a
}
