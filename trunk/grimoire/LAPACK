    stable 3.2.2 3.2.1-CMAKE 3.0
   require gcc-fortran
  category utility/math
 attribute new console
    source http://www.netlib.org/lapack/lapack-$VERSION.tgz
  homepage http://www.netlib.org/lapack
  estimate 3200
      desc 'a Fortran77 program that provides routines for solving systems
of simultaneous linear equations, least-squares solutions of linear
systems of equations, eigenvalue problems, and singular value problems.'

build(){
 DEST=$DESTDIR/usr/lib/lapack/
 mkdir build &&
 cd    build &&
 cmake -DCMAKE_Fortran_FLAGS='-O3 -fPIC' ..  &&
 make      &&
 make test &&
 mkdir -p $DEST &&
 install -vm 644 -o root -g root SRC/liblapack.a    $DEST/liblapack_netlib.a &&
 install -vm 644 -o root -g root BLAS/SRC/libblas.a $DEST/libblas_netlib.a &&
 install -vm 644 -o root -g root TESTING/MATGEN/libtmglib.a $DEST
}
