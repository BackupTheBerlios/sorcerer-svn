   VERSION=( "5.0.3" "5.0.2" "5.0.1" "5.0" "4.0.1" "5.1.1" "5.1" )
    IGNORE="^5\.1"
# kdelibs requires lua 5.0.x
# 5.1.1 is broken?
# Does not install ELF libraries
# has a pkgconfig file that it does not install
# Modify this spell if you require the lua.pc file installed.
  CATEGORY="development/interpreter"
 ATTRIBUTE="console"
    SOURCE="lua-$VERSION.tar.gz"
       URL="http://www.lua.org/ftp/"
  HOMEPAGE="http://www.lua.org/"
       REQ="ncurses readline"
  ESTIMATE="50"
      DESC="lua is a programming langauge.
lua is a programming language originally designed
for extending applications, but also frequently
used as a general-purpose, stand-alone language.
Lua combines simple procedural syntax (similar to Pascal)
with powerful data description constructs based
on associative arrays and extensible semantics.
Lua is dynamically typed, interpreted from bytecodes,
and has automatic memory management, making it ideal
for configuration, scripting, and rapid prototyping.
Lua is implemented as a small library of C functions,
written in ANSI C, and compiles unmodified in all known platforms.
The implementation goals are simplicity,
efficiency, portability, and low embedding cost.
It has been used on games such as Grim Fandango,
Escape from Monkey Island, and MDK2."

build() {
sed  -i  "s:/usr/local:/usr:
          s:-O2:$CFLAGS:"      config
make             &&
prepare_install  &&
make    install
}

# build_new for lua 5.1.x
build_new()  {
  make    linux    &&
  prepare_install  &&
  make    install  INSTALL_TOP=/usr
}
