# /usr/bin/gtk-query-immodules-3.0
# 3.2.3 fails to compile during introspection.
# switching glib gobject-introspection and gtk+-v3 to unstable versions solves the problem.

# 3.3.14 requires unstable version of gdk-pixbuf

   version   stable 3.4.4 3.4.3 3.4.2
   version unstable 3.5.12
   require atk colord gdk-pixbuf libXcomposite libXcursor libXinerama libXrandr pango
  optional cups '' '' for optional cups print backend
      opts --disable-gtk-doc
  category graphic/library
 attribute bottleneck gnome library makej multilib-concurrent optimize
    source   stable $GNOME_URL sources/gtk+/${VERSION:0:3}/gtk+-$VERSION.tar.xz
    source unstable $GNOME_URL sources/gtk+/${VERSION:0:3}/gtk+-$VERSION.tar.xz
      info last 20120716
      info home http://www.gtk.org/
      info docs http://www.gtk.org/documentation.html
# Xinput is needed for tablets and other extended input devices 
# Can not add cups optional requirement which exists at this time
# To avoid circuliar requirement loop with cups dbus gtk+
# dbus's optional requirement on gtk+ was dropped
 freshmeat gtk
      desc 'toolkit for creating GUIs'

build(){
 sed -i 's:demos tests pref examples:pref:' Makefile.in
 sed -i 's:hardcode_into_libs=yes:hardcode_into_libs=no:' configure
 default_build
}

post_install(){
 default_post_install
 echo gtk-query-immodules-3.0 | pipe_queue $CAST_QUEUE
}
