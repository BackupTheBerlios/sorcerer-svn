# /usr/bin/gtk-query-immodules-3.0
# 3.2.3 fails to compile during introspection.
# switching glib gobject-introspection and gtk+-v3 to unstable versions solves the problem.

# 3.3.14 requires unstable version of gdk-pixbuf

   version   stable 3.2.3 3.2.2 3.2.1 3.2.0 3.0.12
   version unstable 3.3.16 3.3.14 3.3.12 3.3.10
   require atk colord gdk-pixbuf libXcomposite libXcursor libXinerama libXrandr pango
  optional cups '' '' for optional cups print backend
      opts --disable-gtk-doc
  category graphic/library
 attribute bottleneck gnome library makej multilib-concurrent optimize
    source $GNOME_URL sources/gtk+/${VERSION:0:3}/gtk+-$VERSION.tar.xz
      info last 20111219
      info home http://www.gtk.org/
      info docs http://www.gtk.org/documentation.html
# Xinput is needed for tablets and other extended input devices 
# Can not add cups optional requirement which exists at this time
# To avoid circuliar requirement loop with cups dbus gtk+
# dbus's optional requirement on gtk+ was dropped
 freshmeat gtk
      desc 'toolkit for creating GUIs'

build(){
 sed -i 's:demos tests::' Makefile.in
 sed -i 's:hardcode_into_libs=yes:hardcode_into_libs=no:' configure
 default_build
}

post_install(){
 default_post_install
 echo gtk-query-immodules-3.0 | pipe_queue $CAST_QUEUE
}
