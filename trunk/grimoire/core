with version stable 20130529
with info    last   20130529
with base    bash bc bison config.site curl dialog diffutils file findutils flex gawk gcc grep grimoire gzip iproute2 immune init-scripts less logind make patch perl--XML-Parser procps protocols sed services shadow sorcery systemd sysvinit tar tzdata util-linux which xz

if ! [ -f "${CURRENT_LOGS:-/aux/log/current}"/deployment-docent ]; then
with base    bzip2
fi

with elect   PAM
#with elect   bind
with elect   ccache
with elect   openssh
with elect   sdelta3

if [ -d /boot/ ]; then		# root file system with /boot/

with base    linux networks syslinux
with elect   LVM2
with elect   btrfs-progs
with elect   dhcpcd
with elect   iptables
with elect   jfsutils
with elect   mdadm
with elect   multipath-tools
with elect   parted
with elect   quagga
with elect   rp-pppoe
with elect   rsync
with elect   unbound
with elect   wireless_tools
with elect   wpa_supplicant

else				# root file system without /boot/
with base    linux-headers
with base    man texinfo
with elect   laptop-mode-tools '' '' for conserving battery power on laptops
#with elect   mailutils         '' '' for mail, mailx, pop3d imapd
with elect   pcmciautils       '' '' for pcmcia networking tools

fi

# Almost a good idea
# but it pins down the library spells.

# [ -f "$CURRENT_LOGS/pango" ] &&
# with base    pango-querymodules

# [ -f "$CURRENT_LOGS/gtk+" ] &&
# with base    gtk-query-immodules-2.0

# [ -f "$CURRENT_LOGS/gtk+-3.0" ] &&
# with base    gtk-query-immodules-3.0

case $MACHTYPE in
 *-gnu)
with base    glibc ;;
 *-uclibc)
with base    uClibc ;;
esac

with role    profile
with trait   console
with info    home http://sorcerer.silverice.org/
with info    cite 'profile spell keeps important software installed
Keep the core spell installed to avoid the risk of un-installing
software critical for booting and running.
The base and elected software components for the core profile spell
vary depending upon whether /boot/ exists.'
