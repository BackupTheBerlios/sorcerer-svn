   VERSION=( "061209" "2.1" "2.1pre1" "2.0" )
# 061209 has link errors, missing -lx11, wonder why.
    IGNORE="alpha\|pre\|gl\|^0[5-6]\|win"
  CATEGORY="game"
 ATTRIBUTE="x11"
    SOURCE="stratagus/stratagus-$VERSION-src.tar.gz"
  HOMEPAGE="http://stratagus.sourceforge.net"
       URL="$SOURCEFORGE_URL"
       REQ="SDL libmikmod lua"
  ESTIMATE="210"
      DESC="stratagus is a free cross-platform real-time strategy gaming engine.
stratagus is a free cross-platform real-time strategy gaming engine.
It includes support for playing over the internet/LAN, or playing a
computer opponent. The engine is configurable and can be used to
create games with a wide-range of features specific to your needs."


build() {
fix_install()  {
  if    [  -e  /usr/bin/stratagus  ];  then  
    mkdir  -p                      /usr/games
    mv         /usr/bin/stratagus  /usr/games
  fi
}


case  $VERSION  in
  061209)  OPTS="$OPTS --x-libraries=/usr/lib --x-includes=/usr/include"
           export  LDFLAGS="$LDFLAGS -lX11"        ;;
  2.0)     sed  -i  "s:install-tools::"  Makefile  ;;
esac


./configure          \
--prefix=/usr        \
--bindir=/usr/games  \
$OPTS                &&
make                 &&
prepare_install      &&
make    install      &&
    fix_install
}
