   VERSION=( 20080428 )
  CATEGORY='utility'
 ATTRIBUTE='archive_off console'
  HOMEPAGE='http://sorcerer.silverice.org/'
       REQ=( 'init-functions'
             ':critical::detect and fix breaks involving glibc ncurses readline ELF libraries'
             ':neglect::update boxes not updated during last 2 weeks'
             ':stall::restart stalled cast and leech' )
  ESTIMATE='10'
      DESC='sorcery-immune provides an immune system

Computer immune systems are similar to human immune systems.
They do not prevent problems from occuring.
But they do detect and correct problems.

sorcery-immune can do 3 checks:

Critical: Detect and fix breaks involving the ELF libraries
          from glibc, ncurses and readline once every 2 minutes.
Neglect:  Boxes not updated for 2 weeks can be updated by immune.
Stall:    Stalled casts can be detected and restarted once per hour.'

build(){
 sed -i "s:OPTS=.*:OPTS='$OPTS':" $SCRIPT_DIR/init.d.on/immune
 prepare_install
 mkdir  -pvm 0755 /usr/{/libexec/sorcery,sbin}
 install -vm 0700 $SCRIPT_DIR/immune.wrap /usr/sbin/immune
 install -vm 0600 $SCRIPT_DIR/immune      /usr/libexec/sorcery
}
