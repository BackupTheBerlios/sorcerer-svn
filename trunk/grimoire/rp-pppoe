    stable 3.10 3.9 3.8 3.7 3.6 3.5 3.4
   require ppp net-tools

  category network
 attribute console
    source rp-pppoe-$VERSION.tar.gz
       url http://www.roaringpenguin.com/files/download/
#      url http://www.roaringpenguin.com/penguin/pppoe/
      vurl http://www.roaringpenguin.com/penguin/openSourceProducts/rpPppoe
  homepage http://www.roaringpenguin.com/pppoe/
#rp-pppoe currently require net-tools to detect the connection
#remove this dependency when ip version will be available
#MALET Jean-Luc
  estimate 200
      desc 'rp-pppoe is a PPP over Ethernet client/server suite.
rp-pppoe, Roaring Penguin, is a PPPoE client and server
suite for Linux, NetBSD, Solaris, and Mac OS X Beta.
It is fully RFC-compliant and supports cookies, relay-IDs,
and multiple simultaneous PPPoE discovery phases.
It is cleanly coded and fairly efficient,
and supports kernel-mode PPPoE on Linux 2.4.x.'

build(){
 install_extra(){
  mkdir -p /usr/share/applnk/Internet
  mkdir -p /usr/share/gnome/apps/Internet
  cp $SCRIPT_DIR/tkpppoe.kdelnk  /usr/share/applnk/Internet
  cp $SCRIPT_DIR/tkpppoe.desktop /usr/share/gnome/apps/Internet
 }

 sed -i 's/read a/a=0/' scripts/adsl-setup.in
 cd src
 ./configure          \
 --build=$BUILD       \
 --prefix=/usr        \
 --sbindir=/sbin      \
 --sysconfdir=/etc    \
 --localstatedir=/var \
 $OPTS           &&
 make            &&
 cd  ../gui      &&
 make            &&
 prepare_install &&
 make  install   &&
 cd  ../src      &&
 make  install   &&
       install_extra
}

current(){
 case $VERSION in
  3.8) [ -f /sbin/pppoe ] ;;
 esac
}
