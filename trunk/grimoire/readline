    stable 5.2.012 5.2 5.1 5.0.5 5.0
  category development
 attribute console library solo
    source ftp://ftp.cwru.edu/pub/bash/readline-${VERSION:0:3}.tar.gz
       url ftp://ftp.cwru.edu/pub/bash/readline-${VERSION:0:3}-patches/
  case  $VERSION  in
    5.2.*) PATCHES=${VERSION:5:2}
      for  ((SCX=1; SCX < 10; SCX++))
      do   source ftp://ftp.cwru.edu/pub/bash/readline-${VERSION:0:3}-patches/readline${VERSION:0:1}${VERSION:2:1}-00$SCX
      done
      for  ((SCX=10; SCX <= PATCHES; SCX++))
      do   source ftp://ftp.cwru.edu/pub/bash/readline-${VERSION:0:3}-patches/readline${VERSION:0:1}${VERSION:2:1}-0$SCX
      done ;;
  esac

  homepage http://cnswww.cns.cwru.edu/php/chet/readline/rltop.html
    CFLAGS='-O3'
   LDFLAGS='-Wl,-O1'
 freshmeat gnureadline
  estimate 400
      desc 'readline lets users edit command lines as they are typed in.
The readline library provides a set of functions for use by
applications that allow users to edit command lines as they are typed.
Both Emacs and vi editing modes are available.
The Readline library includes additional functions to
maintain a list of previously-entered command lines,
to recall and perhaps reedit those lines, and perform
csh-like history expansion on previous commands.'

build(){
 # Other sources configure scripts check only for
 # the location of ar libraries.
 # Therefore, symbolic links to ELF libraries
 # must exist in the same directory as the ar libraries

 move_ar_libs(){
  mv -v   $LIBDIR/lib{history,readline}.a   /usr$LIBDIR
  ln -vfs $LIBDIR/lib{history,readline}.so* /usr$LIBDIR
 }

 CX=1
 while [ -n "${SOURCE[$CX]}" ]; do
  patch -p0 < $SOURCE_CACHE/$SPELL/$VERSION/${SOURCE[$CX]}
  (( CX++ ))
 done

 if   [ "$HOSTTYPE" == "x86_64" ]
 then LIBDIR=/lib64
 else LIBDIR=/lib
 fi

 ./configure      \
 --build=$BUILD   \
 --prefix=/usr    \
 --libdir=$LIBDIR &&
 make    shared   &&
 prepare_install  &&
 make    install  &&
 move_ar_libs     &&
 install -m 0644 -o root -g root $SCRIPT_DIR/inputrc /etc
}
