   VERSION=( "5.2" "5.1" "5.0.5" "5.0" )
  CATEGORY="development"
 ATTRIBUTE="console library solo"
    SOURCE="readline-$VERSION.tar.gz"
       URL="ftp://ftp.cwru.edu/pub/bash/"
  HOMEPAGE="http://cnswww.cns.cwru.edu/php/chet/readline/rltop.html"
 FRESHMEAT="gnureadline"
  ESTIMATE="440"
      DESC="readline lets users edit command lines as they are typed in.
The readline library provides a set of functions for use by
applications that allow users to edit command lines as they are typed.
Both Emacs and vi editing modes are available.
The Readline library includes additional functions to
maintain a list of previously-entered command lines,
to recall and perhaps reedit those lines, and perform
csh-like history expansion on previous commands."

build()  {
# Other sources configure scripts check only for
# the location of ar libraries.
# Therefore, symbolic links to ELF libraries
# must exist in the same directory as the ar libraries
  move_ar_libs()  {
    mv  -v      $LIBDIR/lib{history,readline}.a    /usr$LIBDIR
    ln  -v  -s  $LIBDIR/lib{history,readline}.so*  /usr$LIBDIR
  }

  if    [ "$HOSTTYPE" == "x86_64" ]
  then  LIBDIR=/lib64
  else  LIBDIR=/lib
  fi

  ./configure      \
  --build=$BUILD   \
  --prefix=/usr    \
  --libdir=$LIBDIR &&
  make    shared   &&
  prepare_install  &&
  make    install  &&
  move_ar_libs     &&
  install  -m 0644  -o root  -g root  $SCRIPT_DIR/inputrc  /etc
}

post_install() { backup_lib; }
