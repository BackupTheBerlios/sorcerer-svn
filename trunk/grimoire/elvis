    stable 2.2_0 2.1_4
   require ncurses
  category utility/editor
 attribute console x11
    source elvis-$VERSION.tar.gz
  homepage http://elvis.vi-editor.org/
       url 'ftp://ftp.cs.pdx.edu/pub/elvis/
            http://www.fh-wedel.de/pub/elvis/'
#  homepage ftp://ftp.cs.pdx.edu/pub/elvis/README.html
#            'libXft:--with-xft=yes:--without-xft:for Xft under x11 support'
#            'libXpm:--with-x=yes:--without-x:for elvis with X11 GUI' )

#     opts --bindir=/bin --datadir=/var/lib/elvis     --mandir=/usr/man
      opts --bindir=/bin --datadir=/etc/elvis.default --mandir=/usr/man --without-xft --without-x
# eprovide vi
   provide console-editor
  estimate 130
      desc 'elvis is a clone of vi/ex, the standard UNIX editor.

elvis is a clone of vi/ex, the standard UNIX editor.
Elvis supports nearly all of the vi/ex commands, 
in both visual mode and ex mode.
Elvis adds support for multiple files, multiple windows, 
a variety of display modes including hex and html, 
on-line help, WYSIWYG printing, and other miscellaneous extensions.'


build()  {
  sed  -i  "s/-O2/$CFLAGS/"                  configure
# sed  -i  "s:/\$(LIBS):\$(LIBS) $LDFLAGS:"  Makefile.in

  ./configure           \
  --build=$BUILD        \
  --prefix=/usr         \
  --sysconfdir=/etc     \
  --localstatedir=/var  \
  --libs="-lncurses $LDFLAGS"  \
  $OPTS                 &&
  make                  &&
  prepare_install       &&
  make    install       &&

  if    !  [  -e         /bin/vi  ]
  then  ln    -s  elvis  /bin/vi
  fi
}

current()  {
  case  $VERSION  in
    2.2_0)  [  -d  /etc/elvis.default  ]  ;;
  esac
}
