# DirectFB Does have an optional on LibVNCServer
# However, thanks to qt-everywhere-opensource 4.4.1 requiring gstplugins
# for photon support which is required for KDE 4.1.0
# Having DirectFB require LibVNCServer creates
# a recursive requirement loop.

# optional LibVNCServer '' '' for vnc support
# 1.6.0 does not compile because the source tree
# was not properly prepared before being rolled into a source tarball.

# qingy requires DirectFB linked with freetype jpeg libpng
# 1.6.2 fails to compile.
# 1.6.1 now fails to compile

   version   stable 1.6.2 1.6.1
   version unstable 1.6.2
   require freetype gcc-g++ jpeg libpng linux-fusion
# optional LibVNCServer --enable-vnc      --disable-vnc
# optional SDL          --enable-sdl      --disable-sdl
  optional MesaLib      --enable-mesa     --disable-mesa
  optional flux
# optional freetype     --enable-freetype --disable-freetype
  optional imlib2       --enable-imlib2   --disable-imlib2
  optional jasper       --enable-jpeg2000 --disable-jpeg2000
# optional jpeg         --enable-jpeg     --disable-jpeg
  optional libXext      --enable-x11      --disable-x11 for X11 support
# optional libpng       --enable-png      --disable-png
      opts --disable-sdl --enable-multi --without-tests
  category graphic
# Insists that fluxconf be installed
# when doing multilib-concurrent compilation with version 1.6.1
# attribute broke
 attribute library setarch x11
#attribute library makej multilib-dual setarch x11
    source   stable http://www.directfb.org/downloads/Core/DirectFB-${VERSION:0:3}/DirectFB-$VERSION.tar.gz
    source unstable http://www.directfb.org/downloads/Core/DirectFB-${VERSION:0:3}/DirectFB-$VERSION.tar.gz
      info vurl "http://www.directfb.org/index.php?path=Main%2FDownloads"
      info last 20120922
      info home http://www.directfb.org
      info docs http://www.directfb.org/wiki/index.php/Main_Page
 freshmeat directfb
 conflicts DirectFB
      desc 'graphics library for use on top of the Linux framebuffer device
DirectFB is a thin library that provides
developers with hardware graphics acceleration,
input device handling and abstraction,
an integrated windowing system with support for
translucent windows and multiple display layers
on top of the Linux framebuffer device.
It is a complete hardware abstraction layer
with software fallbacks for every graphics operation
that is not supported by the underlying hardware.'

build(){
 default_build &&
 mkdir -pvm 755 $DESTDIR/etc &&
 install -vm 644 $SCRIPT_DIR/directfbrc $DESTDIR/etc/
}
