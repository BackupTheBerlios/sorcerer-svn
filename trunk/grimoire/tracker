# nautilus and tracker have recursive ELF library requirements
# adding requirement on nautilus creates recursive requirement loop

with version   stable 0.14.3 0.14.2 0.14.0
case $VERSION in
 0.14.3)
with also    --enable-miner-evolution=no --enable-introspection=no --enable-miner-flickr=no --disable-libgif --disable-qt ;;
 0.14.2)
with also    --enable-miner-evolution=no --enable-introspection=no --enable-miner-flickr=no --disable-libgif --disable-qt ;;
esac
with base    NetworkManager exempi gnome-panel libgee libgsf poppler taglib totem-pl-parser upower
#with base    NetworkManager giflib gnome-panel gupnp-dlna libgee nautilus poppler taglib totem-pl-parser
with role    utility
with trait   gnome library makej
with source  $GNOME_URL sources/tracker/${VERSION:0:4}/tracker-$VERSION.tar.xz
with info    last 20121031
with info    home http://www.gnome.org/projects/tracker/
with info    docs http://projects.gnome.org/tracker/documentation.html
with info    feats http://projects.gnome.org/tracker/features.html
with info    cite 'find utility'

build(){
# sed -i 's:hardcode_into_libs=yes:hardcode_into_libs=no:' configure
# default_build
 ./configure --prefix=/usr $OPTS &&
 make &&
 make install DESTDIR="$DESTDIR"
}
