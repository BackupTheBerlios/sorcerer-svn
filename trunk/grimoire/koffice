   VERSION=( "1.5.2" "1.5.1" "1.5.0" )
    IGNORE="i18n\|l10n"
  CATEGORY="utility/editor utility/spreadsheet graphic/editor"
 ATTRIBUTE="kde"
    SOURCE=( "stable/koffice-latest/src/koffice-$VERSION.tar.bz2" )
#             "xpdf_security_integer_overflow.diff"
#             "xpdf_security_integer_overflow_2.diff"
#             "post-1.3.5-koffice.diff" )
  HOMEPAGE="http://www.koffice.org"
       URL=( "$KDE_URL"
             "http://www.koffice.org/releases/security" )
       REQ=( "kdebase"
             "ImageMagick:::for image conversion support"
             "Python:--with-pythondir=/usr::for Python support"
             "aspell:::for spell checking" 
             "koffice-l10n:::for internationalization support"
             "libwpd:::for reading word perfect documents"
             "libexif:::to enable JPEG format in krita"
             "postgresql:--enable-pgsql:--disable-pgsql: for postgresql support in Kexi"
             "mysql:--enable-mysql:--disable-mysql:for mysql support in Kexi"
             "wv2:::to build MS word filter" )
case  $VERSION  in
  1.5.2)  OPTS="--without-python"  ;;
esac
# koffice 1.5.2 is not compatibile with Python 2.5
  ESTIMATE="23159"
      DESC="koffice is an integrated office suite.
KOffice currently includes KWord, KSpread, KPresenter,
KChart, Krayon, KIllustrator, KFormula, Kugar, Kexi,
Krita and Kivio."

case  ${SPELL:8}  in
  l10n-*)  unset  REQ;  REQ="kdelibs"
           unset  SOURCE
                  SOURCE="stable/koffice-latest/src/koffice-l10n/$SPELL-${VERSION:0:5}.tar.bz2"
           CATEGORY="$CATEGORY documentation/i18n"
           EPROVIDE="koffice-i18n koffice-l10n ${SPELL/i18n/l10n}"
           ESTIMATE="118"  ;;
esac

build()  {
  case  $VERSION  in
    1.5.2)  sed  -i  "s:\"\"2\.4\"\":\"\"2.5\"\":"  configure  ;;
  esac
  default_build
}
