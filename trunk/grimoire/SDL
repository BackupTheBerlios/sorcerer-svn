   VERSION=( "1.2.8" "1.2.7" )
    IGNORE="devel"
  CATEGORY="graphic"
 ATTRIBUTE="library x11"
    SOURCE="SDL-$VERSION.tar.gz"
       URL="http://www.libsdl.org/release"
  HOMEPAGE="http://www.libsdl.org"
       REQ=( "nasm x11"
             "aalib:--enable-video-aalib::for ascii art rendering"
             "esound:--enable-dlopen --enable-esd-shared::for simultaneous sound playing and mixing"
             "arts:--enable-dlopen --enable-arts-shared::for simulatenous sound playing and mixing"
             "DirectFB:--enable-video-directfb:--disable-video-directfb:for directfb video output"
             "alsa-lib:--enable-alsa:--disable-alsa:for output using ALSA" )
 FRESHMEAT="sdl"
  ESTIMATE="706"
      DESC="SDL is a portable game library for low-level access to hardware.
SDL is a library that allows you portable low-level access
to a video framebuffer, audio output, mouse, and keyboard."

build() {
	gcc_fixes()  {
		GCC_VER=$(  installed_version  $(  get_provider  gcc  )  )
		case  $GCC_VER  in
			3.4.*)  patch  -p1  <  $SCRIPT_DIR/SDL-1.2.7-gcc-3.4.patch  ;;
		esac
	}

	case  $VERSION  in
		1.2.7)  gcc_fixes  ;;
	esac


	# SDL unnecessarily links using g++.
	sed  -i  "s:\$(CXXLINK):\$(LINK):"  src/Makefile.in
	default_build
}

