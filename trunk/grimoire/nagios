    stable 3.0.3 3.0.2 3.0.1 3.0
   require gd init-functions libtool
   ignore 'alpha\|sparc\|sol\|2\.5\|200[0-9]\|synaptic\|a\|b\|rc'
  category network
 attribute console
       url $SOURCEFORGE_URL
    source nagios/nagios-$VERSION.tar.gz
  homepage http://www.nagios.org
  estimate 400
      desc 'nagios is a daemon for monitoring networked hosts and services.
It has the ability to notify contacts
(via email, pager or other methods)
when problems arise and are resolved.
Host and service checks are performed by external plugins,
making it easy to write custom checks.
Several CGIs are included for viewing the current
and historical status via a Web browser,
and a WAP interface is also provided
to acknowlege problems and disable
notifications from an internet-ready cellphone.'

build(){
mkdir    -p -m 755 /var/nagios
groupadd -K GID_MIN=256 -K GID_MAX=511    nagios                       2>/dev/null
useradd  -K UID_MIN=256 -K UID_MAX=511 -g nagios -d /var/nagios nagios 2>/dev/null
chown nagios:nagios /var/nagios

 ./configure     \
 --build=$BUILD  \
 --prefix=/usr   \
 --bin=/usr/sbin \
 --sysconfdir=/etc/nagios    \
 --localstatedir=/var/nagios \
 --with-lockfile=/var/run/nagios.pid \
 $OPTS &&
 make        all DESTDIR=$DESTDIR &&
 prepare_install &&
 make    install{,-commandmode,-config} DESTDIR=$DESTDIR
}
