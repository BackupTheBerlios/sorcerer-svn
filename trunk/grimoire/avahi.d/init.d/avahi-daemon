#!/bin/bash
### BEGIN INIT INFO
# Default-Mode: 510
# Provides: avahi
# Required-Start: dbus $network run
# Default-Start: 2 3 4 5
# Default-Stop: 0 1 6
# Required-Stop: kill
# Should-Stop: kill fuse.gunzip
# Short-Description: avahi-daemon is a ZeroConf daemon for mDNS and service registration
### END INIT INFO

. /lib/lsb/init-functions

only start stop restart reload status
server /usr/sbin/avahi-daemon
pid_file /var/run/avahi-daemon/pid
name avahi-daemon
options -D

start(){
 log_warning_msg  "$NAME starting"
 [     -d /var/run/avahi-daemon ] ||
 mkdir -p /var/run/avahi-daemon
 if   start_daemon    -p $PIDF $SERV -D
 then log_success_msg "$NAME started"
 else log_failure_msg "$NAME not started"
      status
 fi
}

stop(){
 log_warning_msg "$NAME stopping"; $SERV -k
 log_success_msg "$NAME stopped"
}

reload(){
 $SERV -r
 log_success_msg "$NAME configuration reloaded"
}
