# Version 3.8.0 checks for boost, but does it use it?

   version stable 3.8.1 3.8.0 3.7.0
  category debugger
   require boost
 attribute library makej multilib-dual setarch
    source http://valgrind.org/downloads/valgrind-$VERSION.tar.bz2
      info last 20120919
      info home http://valgrind.org/
      desc 'Framework for building memory debuggers.
There are Valgrind tools that can automatically detect many 
memory management and threading bugs, and profile your programs in detail.'

build(){
 case $VERSION in
  3.7.0) sed -i 's:2\.14:2\.15:;s:2_14:2_15:' configure ;;
 esac
 export   CFLAGS="${CFLAGS//-flto/}"
 export CXXFLAGS="${CXXFLAGS//-flto/}"
 export  LDFLAGS="$( echo "$LDFLAGS" | sed "s:-flto=[^ ]::" )"
 default_build
}
