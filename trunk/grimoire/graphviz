# Requirement on avahi creates recursive requirement loop

# Appears to always use the internal gd library since it requires
# gd 2.0.34 which was not released.

# 2.28.0 does not compile, however 2.26.3 does.
# already tried the case statement for version 2.26.3

   version   stable 2.26.3
   version unstable 2.28.0
   require gd ghostscript libXaw librsvg lua tk
#  require Python gd libXaw ruby tk
      opts --enable-static=no
case $VERSION in
 2.26.3)
      opts --enable-php=no ;;
esac
  category graphic/editor
 attribute library makej multilib-concurrent x11
    source http://www.graphviz.org/pub/graphviz/ARCHIVE/graphviz-$VERSION.tar.gz
      info good 20120716
      info last 20110508
      info home http://www.graphviz.org/
      info docs http://www.graphviz.org/Documentation.php
      info mail http://www.graphviz.org/MailingList.php
      desc 'set of graph drawing tools and libraries'

build(){
 if   [[ $HOSTTYPE == x86_64 ]] &&
      [[ $CFLAGS   =~ -m32   ]]
 then  OPTS+=' --enable-perl=no'
 fi
 default_build &&
 rm -f $DESTDIR/gv.{pm,so}
}
