# Release Numbering from http://netpbm.sourceforge.net
# Latest Netpbm releases are two numbers, e.g. 9.11, 
# and Stable Netpbm releases are three numbers, e.g. 9.11.1.

   version stable 10.35.84 10.35.83 10.35.82 10.35.80 10.35.79 10.35.78 10.35.77
   require libX11 libpng tiff
      opts --enable-static=no
  category graphic
 attribute console library
 attribute multilib-fail
 attribute broke
#attribute makej
    source $SOURCEFORGE_URL netpbm/super_stable/$VERSION/netpbm-$VERSION.tgz
      info last 20120222
      info home http://netpbm.sourceforge.net
      desc 'programs that convert graphics formats
netpbm contains over 220 programs that convert from one graphics
format to another and do simple editing and analysis of images.
Over 80 graphics formats are handled, including JPEG,
PNG, GIF, TIFF, BMP, XWD, XBM, G3 fax, and special
/formats used by digital cameras and handheld computers.
Over 40 editing functions include scaling, cropping,
quantization and dithering, colorizing and
uncolorizing, blurring, and dimming.'

build(){

 if   [[ $HOSTTYPE == x86_64 ]] && ! [[ $CFLAGS =~ -m32 ]]
 then sed -i 's:$(PKGDIR)/lib/:$(PKGDIR)/lib64/:' lib/Makefile
 fi

 export   CFLAGS="$CFLAGS -fPIC"
 export CXXFLAGS="$CXXFLAGS -fPIC"

 ( echo "${LF}${LF}${LF}${LF}n${LF}${LF}${LF}${LF}${LF}${LF}${LF}${LF}libX11.so${LF}"
   yes ""
 ) |
 ./configure &&
 make  "CFLAGS=$CFLAGS" &&
 mkdir -p $DESTDIR      &&
 make package pkgdir=$DESTDIR/usr PKGDIR=$DESTDIR/usr &&
 rm $DESTDIR/usr/{README,VERSION,pkginfo}
}
