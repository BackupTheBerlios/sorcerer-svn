   version stable 4.2.5 4.2.0 4.0.7
#  version unstable 4.99.0
case $VERSION in
 4.2.0)
      opts --enable-introspection=no ;;
esac
   require gtksourceview libsoup libunique postgresql

# requirements prior to 4.2.0
#  require db gamin libsoup libxslt ncurses popt postgresql readline

  optional mysql    '' --without-mysql  to store and retrieve data from mysql databases
  optional openldap '' --without-ldap   for LDAP databases
  optional sqlite   '' --without-sqlite to retreive data from sqlite database
  optional unixODBC '' --without-odbc   to support windows databases
      opts --enable-static=no --with-jni=/opt/jdk/include
  category db
 attribute gnome library makej multilib-concurrent
    source   stable $GNOME_URL sources/libgda/${VERSION:0:3}/libgda-$VERSION.tar.bz2
    source unstable $GNOME_URL sources/libgda/${VERSION:0:4}/libgda-$VERSION.tar.bz2
  homepage http://www.gnome.org
# glom 1.6.10 requires libgda-postgres-3.0
#            'postgresql::--without-postgres:to retrieve data from postgresql database'

      desc 'GNU Data Access, provides uniform access to different data sources'

build(){
 case $VERSION in
  4.*) export   CFLAGS+=' -I/usr/include/mysql'
       export CXXFLAGS+=' -I/usr/include/mysql' ;;
 esac

 if    [[ $HOSTTYPE == x86_64 ]]; then
  if   [[ $CFLAGS   =~ -m32   ]]
  then OPTS+=' --with-bdb-libdir-name=/usr/lib';   OPTS+=' --with-java=/opt/jdk/jre/lib/i386'
  else OPTS+=' --with-bdb-libdir-name=/usr/lib64'; OPTS+=' --with-java=/opt/jdk/jre/lib/amd64'
  fi
 else
 OPTS+=' --with-java=/opt/jdk/jre/lib/i386'
 fi

 default_build
}
