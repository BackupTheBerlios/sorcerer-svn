    stable 8.5.8 8.5.7 8.5.6 8.5.5 8.5.4 8.5.3 8.5.2 8.5.1 8.5.0
    secure 8.5.2
      opts --disable-rpath
   require libXft libXScrnSaver tcl
  category graphic
 attribute library x11
       url $SOURCEFORGE_URL
    source tcl/Tcl/$VERSION/tk$VERSION-src.tar.gz
    source tcl/Tcl/$VERSION/tcl$VERSION-src.tar.gz
  homepage http://www.tcl.tk/
  estimate 400
 freshmeat tcltk
      desc 'tk provides a portal GUI.
tk provides portable GUIs on UNIX, Windows, and Macintosh.
A powerful widget set and the concise scripting interface to
Tk make it a breeze to develop sophisticated user interfaces.'

build(){
 make_shared_lib(){ ld --whole-archive -share -o $1.so $1.a; }

cd tcl$VERSION/unix  &&
./configure           \
--prefix=/usr         \
--sysconfdir=/etc     \
--localstatedir=/var  \
--enable-shared       \
--enable-threads      \
$OPTS                 &&
cd  ../../unix        && 
./configure           \
--prefix=/usr         \
--sysconfdir=/etc     \
--localstatedir=/var  \
--enable-shared       \
--enable-threads      \
--with-tcl=../tcl$VERSION/unix \
$OPTS           &&
make            &&
prepare_install &&
make    install &&
ln -sf /usr/bin/wish${VERSION:0:3} /usr/bin/wish
}
