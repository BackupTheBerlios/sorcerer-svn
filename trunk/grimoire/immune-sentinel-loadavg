# Copyright Kyle Sallee 2012
# All rights reserved.
# For use with the distribution sorcerer only!

   version stable 20120425
  category immune-system
 attribute archive_off
      info home http://sorcerer.silverice.org/
      desc "enhanced gcc loadavg limiter

cast is unable anticipate the rise and fall of loadavg
when make -j is combined with multiple concurrently running cast.
Therefore, this wrapper allows for execution of gcc
to be delayed until loadavg becomes reasonable."

build(){
 mkdir  -pvm 755 $DESTDIR/usr/libexec/sentinel-loadavg
 cd              $DESTDIR/usr/libexec/sentinel-loadavg
 install -vm 700 $SCRIPT_DIR/limit .
 ln -sf limit cc
 ln -sf limit gcc
 ln -sf limit c++
 ln -sf limit g++
}
