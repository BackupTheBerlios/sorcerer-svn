# Version 5.4.1 keeps segfaulting (after couple minutes) so a newer version is needed
# 5.4.1.1 complains about a perl module version mismatch.
   VERSION=( 5.4.1.1 5.2.5.pre2 5.4.1 5.4 5.3.1 5.3.0.1 5.3 )
   VERSION=(         5.2.5.pre2 5.4.1 5.4 5.3.1 5.3.0.1 5.3 )
    IGNORE='HP-UX\|rc\|pre'
  CATEGORY='network'
 ATTRIBUTE='console'
    SOURCE="net-snmp/net-snmp-$VERSION.tar.gz"
       URL="$SOURCEFORGE_URL"
  HOMEPAGE='http://www.net-snmp.org'
       REQ=( 'automake init-functions libelf zlib'
             'openssl:::for secure socket connections' )
      OPTS='--enable-static=no'
  ESTIMATE='4000'
      DESC='net-snmp is a simple network managment protocol agent, libraries and utilities
net-snmp provides tools and libraries relating to
SNMP (the Simple NetworkManagement Protocol) including:
- An extensible agent
- An SNMP library
- tools to request or set information from SNMP agents
- tools to generate and handle SNMP traps, etc.'


build(){
 SYS_CONTACT="--with-sys-contact=root@`hostname -f`"
  PERSISTENT="--with-persistent-directory=/var/state/ucd-snmp"
    DEFAULTS="--with-defaults"

 ./configure          \
 --prefix=/usr        \
 --sysconfdir=/etc    \
 --localstatedir=/var \
 $SYS_CONTACT         \
 $PERSISTENT          \
 $DEFAULTS            \
 $OPTS                &&
 make                 &&
 prepare_install      &&
 make    install
}

current(){
 case $VERSION in
  5.4.1) grep -q SERV= /etc/init.d/snmpd ;;
 esac
}
