# Does gnucash 2.2.7 require slib?
# Compile logs and ELF logs do not suggest so.

# gnucash 2.2.9 requires goffice 0.6.x and not 0.8.x?
# can fix later if someone wants it.
# it requires a separate goffice spell that
# installs in /opt

# Can not use gtkhtml since gtkhtml is broke

    stable 2.4.2 2.4.0 2.2.9
#     last 20110214
   require aqbanking goffice guile gtkhtml ktoblzcheck libdbi slib swig
#  require aqbanking goffice gtkhtml guile slib swig
#  require aqbanking-kde3 goffice gtkhtml guile slib swig
      opts --enable-compile-warnings=yes --disable-error-on-warning --enable-aqbanking --disable-glibtest
  category utility/finance
 attribute gnome makej
    source $SOURCEFORGE_URL gnucash/gnucash%20\(stable\)/$VERSION/gnucash-$VERSION.tar.bz2
     home http://www.gnucash.org/
     docs http://www.gnucash.org/docs.phtml
#    mail http://wiki.gnucash.org/wiki/Mailing_Lists
#     irc http://wiki.gnucash.org/wiki/IRC
  estimate 8000
      desc 'open source personal finance suite
gnucash allows you to track bank
accounts, stocks, income, and expenses.
As quick and intuitive to use as a
checkbook register, it is based on
professional accounting principles to
ensure balanced books and accurate reports.

gnucash must be run at least once by root with Xserver available
before gnucash can be run by users.'

build(){ (
 # export PKG_CONFIG_PATH=/usr/lib/pkgconfig:/usr/share/pkgconfig:/opt/kde3/lib/pkgconfig
 bash \
  ./configure \
  --prefix=/usr \
  --sysconfdir=/etc \
  --localstatedir=/var \
  $OPTS &&
 make &&
 make install DESTDIR=$DESTDIR
) }
