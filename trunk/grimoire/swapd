   VERSION=( "0.4.0" "0.4.0a" "0.3.3" )
    IGNORE="a"
  CATEGORY="utility"
 ATTRIBUTE="console core solo"
    SOURCE="swapd/swapd-$VERSION.tar.bz2"
       URL="$SOURCEFORGE_URL"
  HOMEPAGE="http://sourceforge.net/projects/swapd"
  ESTIMATE="20"
      DESC="swapd dynamically creates swap files as required.
swapd is a dynamic swapping manager for Linux.
It provides the system with as much swap space 
(virtual memory) as is required at a particular
time by dynamicly creating swap files.
This is more convinient than using fixed 
swapfiles and/or partitions because they 
(a) are unused most of the time and are 
just taking up disk space; and (b) provide 
a limited amount of virtual memory."

build() {
 install_conf()  {

  mkdir  -p         /swap
  chmod  700        /swap
  cp     $SCRIPT_DIR/swapd.sh  /etc/init.d
  ln  -sf  ../init.d/swapd.sh  /etc/rc0.d/K95swapd 
  ln  -sf  ../init.d/swapd.sh  /etc/rc6.d/K95swapd  
  ln  -sf  ../init.d/swapd.sh  /etc/rcS.d/S95swapd

 }

 sed  -i  "s:/usr/local/etc/:/etc/:"  config.h

 ./configure  --build=$BUILD        \
 --prefix=/usr         \
 --sysconfdir=/etc     \
 --localstatedir=/var  \
 $OPTS                 &&
 make  "CFLAGS=$CFLAGS -I."         &&
 prepare_install                    &&
 make    install                    &&
 install_conf
}

post_install() {
 [  -x  /usr/sbin/sorcerer.install  ]  ||
 /etc/init.d/swapd.sh  start
 true
}

pre_remove() {
 /etc/init.d/swapd.sh  stop
 true
}

