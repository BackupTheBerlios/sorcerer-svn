   VERSION=( 1.2.25 1.2.23 1.2.19 )
    IGNORE='pgp'
  CATEGORY='network'
 ATTRIBUTE='console perl-module'
    SOURCE="rrdtool-$VERSION.tar.gz"
       REQ=( 'freetype libart_lgpl libpng perl tcl'
             'ruby:::for ruby bindings' )
      OPTS='--disable-python'
# Versions 1.2.19 and 1.2.18 fail compilation when linking python modules.
# --disable-python avoids the failure,
# however rrdtool will have no python bindings.
       URL='http://oss.oetiker.ch/rrdtool/pub/'
  HOMEPAGE='http://oss.oetiker.ch/rrdtool/'
#      URL='http://people.ee.ethz.ch/~oetiker/webtools/rrdtoll/pub/'
# HOMEPAGE='http://people.ee.ethz.ch/~oetiker/webtools/rrdtoll/'
  ESTIMATE='900'
      DESC='rrdtool is time-series data logging and graphing
rrdtool is basically the time-series graphing and data
storage/management component of MRTG, broken out and done right.
done right means that RRDtool is magnitudes faster than MRTG and
extremely configurable.'

build() {
export    CFLAGS="$( echo  $CFLAGS    |  sed  s/-ffast-math// )"
export  CXXFLAGS="$( echo  $CXXFLAGS  |  sed  s/-ffast-math// )"
./configure                  \
--build=$BUILD               \
--prefix=/usr/share/rrdtool  \
--includedir=/usr/include    \
--bindir=/usr/bin            \
--libdir=/usr/lib            \
--mandir=/usr/man            \
--sysconfdir=/etc            \
--localstatedir=/var         \
--enable-perl-site-install   \
$OPTS                        &&
make                         &&
prepare_install              &&
make    install
}
