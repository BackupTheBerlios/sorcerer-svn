   inherit kde-v4
# google-gadgets-for-linux is currently not compiling
#  require google-gadgets-for-linux
# marble fails to compile with gpsd installed
#  require gpsd
   require ConsoleKit kdepimlibs-v4 
   require libXres libXxf86misc libraw1394 libxkbfile lm_sensors
   require pciutils prison qimageblitz xprop
  category utility/file-manager utility/terminal-emulator
 attribute library makej multilib-concurrent
    source   stable $KDE_URL   stable/$VERSION/src/$SPELL-$VERSION.tar.bz2
    source unstable $KDE_URL unstable/$VERSION/src/$SPELL-$VERSION.tar.bz2
     wmbin /opt/kde4/bin/startkde
     iwall 'kdm will soon restart'
    CFLAGS='-O2'
   LDFLAGS='-Wl,-O1'
  sys_user kdm
 conflicts kdebase-workspace-v4
      desc 'window manager and desktop for kde'


# -----------------------------------------------------------------------------
# -- The following OPTIONAL packages could NOT be located on your system.
# -- Consider installing them to enable more features from this software.
# -----------------------------------------------------------------------------
#    * OpenGL ES  <http://www.khronos.org/opengles/>
#      OpenGL ES 2.0
#      Needed to build KWin for mobile devices
#    * OpenGL ES  <http://www.khronos.org/opengles>
#      Support for OpenGL ES2.0 graphics library
#      View OpenGL ES2.0 details in kinfocenter.
#    * NetworkManager (0.7.0 or higher)  <http://www.gnome.org/projects/NetworkManager>
#      A daemon for user controlled networking
#      Needed for building Network Management support in Solid.
#    * XMMS  <http://www.xmms.org>
#      X MultiMedia System development libraries
#      Support for XMMS in the Now Playing data engine
#    * Qalculate!  <http://qalculate.sourceforge.net/>
#      Qalculate Library
#      Needed to enable advanced features of the calculator runner

# How can it require qalculate when qalculate is a kde 3 program?
# the older version of NetworkManager conflicts with what gnome requires.
# xmms, a gtk+-v1.2 app, is too old.
# How does one download the libraries for OpenGL ES?

current(){
 case $VERSION in
  4.7.2) grep -q "domain user" /etc/init.d/kdm ;;
 esac
}
