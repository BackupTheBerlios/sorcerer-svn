# Potential optional requirement:
# + Captury framework: libcaptury is a framework realtime video capturing for e.g.
# screen casts <http://rm-rf.in/captury>
# However, http://rm-rf.in/captury not connecting, 20080114

# NetworkManager 0.6.5 has compile errors
#            'NetworkManager:::for a daemon for user controlled networking'

# adding iceauth, xorg-cf-files from original kdebase
# because probability is that they are used.

# To generate a default configuration not imported from any others
# genkdmconf --no-old --no-backup


   inherit kde-v4
   require iceauth kdepimlibs-v4 libXres libXxf86misc libxklavier xmessage xorg-cf-files xprop xsetroot xterm
  optional bluez-libs
  optional libraw1394
  optional libusb
  optional lm_sensors
  optional qimageblitz
  optional xine-lib
  category utility/file-manager utility/terminal-emulator
  estimate 5600
     wmbin /opt/kde4/bin/startkde
      desc 'Plasma and the window manager'
     iwall 'kdm-v4 will soon restart'

build(){
kde_build &&
/opt/kde4/bin/genkdmconf --no-old --no-backup &&
sed -i 's:PidFile=/var/run/kdm.pid:PidFile=/var/run/kdm-v4.pid:' \
       /etc/kde4.config/kdm/kdmrc
}
