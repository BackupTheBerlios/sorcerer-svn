    stable III-10.2.src III-10.1.src III-10.0.src III-alpha9.8
  category audio/cd audio/recorder
 attribute console
    source http://downloads.xiph.org/releases/cdparanoia/cdparanoia-$VERSION.tgz
#   source http://xiph.org/paranoia/download/cdparanoia-$VERSION.src.tgz
  homepage http://www.xiph.org/paranoia/
  estimate 100
      desc 'cdparanoia is a cd ripper.
Cdparanoia is a Compact Disc Digital Audio (CDDA) 
extraction tool, commonly known on the net as a ripper.
Cdparanoia will read correct, rock-solid audio data 
from inexpensive drives prone to misalignment, 
frame jitter and loss of streaming during atomic reads.
Cdparanoia will also read and repair data from CDs that 
have been damaged in some way.'


build(){
 fix_cdda_interface(){
  sed -i '1i#include <scsi/sg.h>
          1i#include <scsi/scsi.h>
          1i#include <time.h>
          1i#include <sys/time.h>
          1i#include <linux/cdrom.h>
          1istruct cdda_private_data {
          1i  struct sg_header *sg_hd;
          1i  unsigned char *sg_buffer; /* points into sg_hd */
          1i  clockid_t clock;
          1i  int last_milliseconds;
          1i};' /usr/include/cdda_interface.h
 }

case $VERSION in
 III-alpha9.8) sed -i '\,default:,abreak;' interface/utils.h ;;
esac
default_build
}
