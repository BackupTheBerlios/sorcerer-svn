   VERSION=( "2006_4.04" )
  CATEGORY="utility/tax"
 ATTRIBUTE="x11 new"
    SOURCE="opentaxsolver/OpenTaxSolver$VERSION.tar.gz"
  HOMEPAGE="http://opentaxsolver.sourceforge.net/"
# OTS GUI Homepage: http://opentaxsolver.sourceforge.net/ots_gui.html
       URL="$SOURCEFORGE_URL"
       REQ="MesaLib"
  ESTIMATE="30"
      DESC="OpenTaxSolver calculates Tax Form entries.
It calculates tax-owed or refund -dude on Federal and/or
State personal income taxes.

TaxSolver has been updated for the most recent 2006 tax-year for:
US 1040 and Schedules A, B, C, & D, and State-Taxes for California,
North Carolina, Massachusetts, New Jersey, Pennsylvania, Virginia, Ohio,
and New York.
Similar coverage was attained for 2006 as in previous years,
except the Canadian and Ontario forms have not yet been updated."

build()  {
  local  EAT=examples_and_templates
  local  USO="/usr/share/OpenTaxSolver"
  find                     $EAT  -type d  |  xargs  -r  -l64  chmod 0755
  find                     $EAT  -type f  |  xargs  -r  -l64  chmod 0644
  chown  -R   root:root    $EAT
  sed    -i   "s:$EAT:$USO/$EAT:"  src/GUI/ots_gui.c
  sed    -i   "s:-O:$CFLAGS:"      src/{Makefile.unix,GUI/Makefile.linux}
  rm     -rf  bin
  mkdir  -p   bin
  cd          src
  make   -f   Makefile.unix   &&  cd  GUI  &&
  make   -f   Makefile.linux  &&
  prepare_install  &&
  install -v  -m 0755  ../../bin/*  /usr/bin/
}
