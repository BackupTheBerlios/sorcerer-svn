  VERSION=( "2.8.4" "2.8.3" "2.8.2" "2.8.0" )
    IGNORE="ubuntu\|Win\|PDF\|HTB\|rc\|-1\|^2\.8\.4\|snapshot\|HTML\|HLP\|CHM"
  CATEGORY="graphic/library graphic/toolkit"
 ATTRIBUTE="library"
    SOURCE="wxwindows/wxWidgets-$VERSION.tar.bz2"
       URL="$SOURCEFORGE_URL"
  HOMEPAGE="http://www.wxwidgets.org"
 FRESHMEAT="wxwidgets"
       REQ=( "gtk+"
             "esound:::for audio output through esound" )
      OPTS="--enable-compat24"
## was unable to get a good compile with MesaLib and SDL
## Just going with above opts, because it takes too long to compile this.
##             "MesaLib:--with-opengl::for opengl accelerated graphics"
##             "SDL:--with-sdl::for audio output through SDL"

#            ":--enable-accessibility::for accessibility support"
# enabling accessibility support in 2.8.0 causes compile failure.
#            ":--with-odbc::for the IODBC and wxODBC classes"
# --with-odbc also causes compile failure

# --with-sdl
# --with-opengl
# --enable-accessibility
# Above disabled by default, possible to enable.

# 4 libraries below are all required by gtk+
#            "jpeg:--with-libjpeg:--without-libjpeg:for JPEG image support"
#            "libpng:--with-libpng:--without-libpng:for PNG image support"
#            "tiff:--with-libtiff:--without-libtiff:for TIFF image support" 
#            "zlib:--with-zlib:--without-zlib:for LZW compression support"
# expat probably installed, SA probably wants XML classes supported.
#            "expat::--without-expat:for XML classes support"
  EPROVIDE="wxGTK wxGTK-v2.4"
  ESTIMATE="1800"
      DESC="wxWidgets is a cross-platform c++ framework writing GUI applications
wxWidgets gives you a single, easy-to-use API for
writing GUI applications on multiple platforms."

install_contrib_headers() {
  cd  contrib/include
  find  |
  while read
  do    install  -D -v  $REPLY  /usr/include/wx-${VERSION:0:3}/$REPLY
  done  
}

build() {

case $VERSION in
  2.8.0)  if    spell_installed  wxPython
          then  dispel --unsafe  wxPython
                echo             wxPython | pipe_queue "$CAST_QUEUE" "com"
          fi  ;;
  2.7.1)  sed  -i  "s:animate:#animate:"  contrib/src/Makefile.in  ;;
esac 

sed  -i  "s:OPTIMISE=\"-O2\":OPTIMISE=\"\":"  configure

./configure           \
--build=$BUILD        \
--prefix=/usr         \
--sysconfdir=/etc     \
--localstatedir=/var  \
--with-gtk=2          \
--enable-zipstream    \
--enable-unicode      \
$OPTS                 &&
make                  &&
cd      contrib       &&
make                  &&
cd      ..            &&
prepare_install       &&
make    install	      &&
cd      contrib       &&
make    install       &&
cd      ..            &&
install_contrib_headers
}
