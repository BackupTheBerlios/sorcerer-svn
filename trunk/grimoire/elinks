   VERSION=( "0.11.1" "0.11.0" "0.10.6" "0.10.5" "0.10.4" "0.10.3" "0.10.2" )
    IGNORE="current\|rc"
# 0.11.0 has install errors
  CATEGORY="network/web"
 ATTRIBUTE="client console new"
    SOURCE="elinks-$VERSION.tar.bz2"
       URL="http://elinks.or.cz/download/"
  HOMEPAGE="http://elinks.or.cz"
       REQ=( "bzip2 zlib"
             "expat::--disable-xbel:XML parser for XBEL bookmark support"
             "gpm::--disable-mouse --without-gpm:for mouse support"
             "guile::--without-guile:to write plugins using guile"
             "lua::--without-lua:for writing plugins using lua interface"
             "mozilla:--with-spidermonkey:--without-spidermonkey:for javascript support using mozilla spidermonkey"
             "openssl:--with-ssl:--without-ssl:for HTTPS encrypted connections"
             "ruby:--with-ruby:--without-ruby:for ruby support"
             "samba::--disable-smb:for smb protocol support" )
      OPTS="--without-gnutls"
#            "gnutls:--with-gnutls:--without-gnutls:for SSL support via gnutls instead of openssl"
# elinks 0.10.5 requires gnutls < 1.2.0
  ESTIMATE="440"
      DESC="elinks is a text mode http/ftp brwoser.
It can render both frames and tables, is highly customizable,
and can be extended via Lua, Guile, Perl, or Ruby scripts.
It has limited support for CSS and Javascript."


build()  {
  export    CFLAGS="-I/usr/include/mozilla/js    $CFLAGS"
  export  CXXFLAGS="-I/usr/include/mozilla/js  $CXXFLAGS"
  export   LDFLAGS="-L/usr/lib/mozilla  -Wl,-rpath-link,/usr/lib/mozilla  -Wl,-rpath,/usr/lib/mozilla  $LDFLAGS"
  sed  -i  "s:smjs:jsj:"  configure
  default_build
}
