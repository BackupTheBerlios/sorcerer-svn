# Using boost compiled with newer gcc than asc causes link error
# asc requires updated source to compile otherwise
# must link with a boost also compiled with similar version of gcc.

with version stable 2.5.0.0
with base    SDLmm SDL_image SDL_mixer SDL_sound XviD boost bzip2 flac libsigc++-1.2 lua physfs speex zip
#case $VERSION in
# 2.5.0.0)
#   use_gcc gcc-v4.5 ;;
#esac
with role    game
with trait   x11
with trait   broke
with source  $SOURCEFORGE_URL asc-hq/ASC%20Source/${VERSION:0:5}/asc-$VERSION.tar.bz2
with info    omit 20130521
#     info good 20120604
with info    last 20120521
with info    home http://www.asc-hq.org/
with info    cite 'advanced strategic command is a clone of Battle Isle'

build(){
 case $VERSION in
  2.4.0.0) sed -i 's:-lboost_regex:-lboost_regex-mt:' configure ;;
 esac
 export SDL_VIDEODRIVER=dummy
 default_build
}
