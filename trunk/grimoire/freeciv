   VERSION=( "2.0.2" "2.0.1" "2.0.0" "1.14.2" "1.14.1" "1.14.0" "1.13.0" "1.12.0" )
  CATEGORY="game"
 ATTRIBUTE="x11"
    SOURCE=( "stable/freeciv-$VERSION.tar.bz2"
             "contrib/sounds/sets/stdsounds3.tar.gz"
             "contrib/tilesets/all_tilesets/all_tilesets-2.0.3.tar.gz" )
       URL="ftp://ftp.freeciv.org/freeciv
            ftp://ftp.netc.pt/pub/freeciv"
       REQ=( "SDL_mixer gtk+ ncurses readline"
             "alsa-lib:--enable-alsa:--disable-alsa:for audio output using alsa"
             "esound:--enable-esd:--disable-esd:for audio output using esound" )
  HOMEPAGE="http://www.freeciv.org"
  ESTIMATE="365"
      DESC="freeciv is a reimplementation of Civilization.
freeciv is a multiuser reimplementation of
the famous Microprose game of Civilization.
By default, the game is an improved Civ II,
but this can be customized; modpacks for
near-100% compatibility with Civ I and Civ II are included.
Multiuser gameplay is real-time: in each turn,
all human players move concurrently.
The game is designed to remain fairly
playable even on poor network connections.
Freeciv can also be played on standalone machines,
and its AI players are a good challenge for beginners.
The source code comes with the server, two X clients,
and non-X clients for MS Windows and Amiga."


pre_build() {
unpack  ${SOURCE[0]}

cd      $BUILD_DIR
mkdir   sound
cd      sound
unpack  ${SOURCE[1]}


cd      $BUILD_DIR
mkdir   tilesets
cd      tilesets
unpack  ${SOURCE[2]}

cd      $BUILD_DIR
chown   -R  root:root  sound  tilesets
find                   sound  tilesets  -type f  |  xargs   -l64   chmod  0644
find                   sound  tilesets  -type d  |  xargs   -l64   chmod  0755
}

build() {
./configure  --prefix=/usr        \
             --bindir=/usr/games  &&
make                &&
prepare_install     &&
make    install     &&
cd      sound/data  &&  cp  -av  *  /usr/share/freeciv  &&
cd  ../../tilesets  &&  cp  -av  *  /usr/share/freeciv
}
