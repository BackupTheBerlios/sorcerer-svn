    stable 0.10.2 0.10.1 0.10.0
   require automake cairo fontconfig freetype glib libffi libxml2
      opts --enable-static=no
  category development
 attribute gnome library makej
    source $GNOME_URL sources/gobject-introspection/${VERSION:0:4}/gobject-introspection-$VERSION.tar.bz2
  homepage http://www.gnome.org
 conflicts gir-repository
  estimate 1000
      desc 'document API'

build(){
 wrappers(){
  install -m 755 $SCRIPT_DIR/g-ir $DESTDIR/usr/bin/g-ir-annotation-tool
  install -m 755 $SCRIPT_DIR/g-ir $DESTDIR/usr/bin/g-ir-compiler
  install -m 755 $SCRIPT_DIR/g-ir $DESTDIR/usr/bin/g-ir-generate
  install -m 755 $SCRIPT_DIR/g-ir $DESTDIR/usr/bin/g-ir-scanner
 }

 bit_move(){
  mv -v $DESTDIR/usr/bin/g-ir-annotation-tool{,-$1}
  mv -v $DESTDIR/usr/bin/g-ir-compiler{,-$1}
  mv -v $DESTDIR/usr/bin/g-ir-generate{,-$1}
  mv -v $DESTDIR/usr/bin/g-ir-scanner{,-$1}
 }

 default_build &&
 if    [[ $HOSTTYPE == x86_64 ]]; then
  if   [[ $CFLAGS   =~ -m32   ]]; then bit_move 32
  elif [[ -f /lib/libc.so.6   ]]; then bit_move 64; wrappers
  fi
 fi
}

current(){ echo gobject-introspection | pipe_queue $DISPEL_QUEUE; }
