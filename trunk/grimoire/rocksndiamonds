    stable 3.2.6.0 3.2.4
   require SDL_image SDL_mixer SDL_net
  category game
 attribute x11
    source http://www.artsoft.org/RELEASES/unix/rocksndiamonds/rocksndiamonds-$VERSION.tar.gz
    source http://www.artsoft.org/RELEASES/unix/rocksndiamonds/levels/rockslevels-dx-1.0.tar.gz
    source http://www.artsoft.org/RELEASES/unix/rocksndiamonds/levels/rockslevels-emc-1.0.tar.gz
    source http://www.artsoft.org/RELEASES/unix/rocksndiamonds/levels/rockslevels-sp-1.0.tar.gz
  homepage http://www.artsoft.org/rocksndiamonds/
  estimate 14400
      desc 'rocksndiamonds is an arcade style game with stero sounds.
rocksndiamonds is an arcade style game
for color X11 with stereo sounds.
It is a game like Boulderdash (C64),
Emerald Mine (Amiga) and Supaplex (PC).
Included are many levels known from the games
Boulderdash, Emerald Mine, Sokoban and
Supaplex, and a lot of new levels designed by other players.'


build(){

 GD="GAME_DIR=/usr/share/rocksndiamonds"
 OP="OPTIONS=$CFLAGS"
 EL="EXTRA_LDFLAGS=$LDFLAGS"
 UG="/usr/bin"
 RO_GD="/usr/share/rocksndiamonds"
 RW_GD="/var/lib/rocksndiamonds"
 
 diamond_install(){
  set     -x
  mkdir   -p  $RW_GD $RO_GD $UG
  chmod   a+r $RW_GD
  cp      -av docs graphics levels music sounds $RO_GD
  cp      -av scores                            $RW_GD
  install -m  755 rocksndiamonds                $UG
  set     +x
 }


 make clean
 make sdl                  \
      "$OP" "$EL"          \
      "RO_GAME_DIR=$RO_GD" \
      "RW_GAME_DIR=$RW_GD" &&
 prepare_install &&
 diamond_install
}
