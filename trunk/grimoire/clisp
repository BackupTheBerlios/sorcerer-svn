   version stable 2.49
   require ffcall gettext libsigsegv readline
  optional postgresql '' '' for postgresql support
      opts --with-gettext --with-readline
  category development/interpreter
 attribute console
    source $SOURCEFORGE_URL clisp/clisp/$VERSION/clisp-$VERSION.tar.gz
      info home  http://clisp.cons.org/

#            'smalltalk:::for optional requirement on smalltalk' )
# Does it really have an optional on smalltalk?
      desc 'ANSI Common Lisp interpreter, compiler and debugger'

build(){
 case $VERSION in
  2.49) sed -i 's:/bin/pwd:pwd:' configure src/clisp-link{,.in} ;;
 esac

 make_CLISP(){
  ./configure        \
  --prefix=/usr      &&
  cd src             &&
  ./makemake         \
  --prefix=/usr      \
  --with-dynamic-ffi \
  $OPTS > Makefile   &&
  make config.lisp   &&
  make
 }
  
make_CLISP  &&
make install "DESTDIR=$DESTDIR"
}
