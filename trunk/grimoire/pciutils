    stable 3.0.0 2.2.10 2.2.9
   require zlib

  category utility
 attribute console
    source pub/software/utils/pciutils/pciutils-$VERSION.tar.bz2
  homepage ftp://ftp.kernel.org/pub/software/utils/pciutils
       url "$KERNEL_URL"
      opts --enable-static=no
  estimate 100
      desc 'pciutils provides setpci and lspci utils.

pciutils include:

lspci		displays detailed information about all PCI busses and
		devices in the system, replacing the original /proc/pci
		interface.

setpci		allows to read from and write to
		PCI device configuration registers.
		For example, you can adjust
		the latency timers with it.'

build(){

 install_lib(){
  mkdir       -vpm 755        /usr/include/pci
  for                    file in lib/*.h
  do  install -vm  644  $file /usr/include/pci/
  done
  case $HOSTTYPE in
   x86_64) install -vm 755 lib/libpci.a /usr/lib64 ;;
        *) install -vm 755 lib/libpci.a /usr/lib   ;;
  esac
 }

 make            PREFIX=/usr &&
 prepare_install             &&
 make    install PREFIX=/usr &&
         install_lib
 # libpci.a is 30K, small enough that there is no shared library for it.
}

current(){
 case $VERSION in
  2.2.9) [ -f /usr/sbin/lspci ] ;;
 esac
}
