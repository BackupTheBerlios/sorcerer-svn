  stable 3.0.0 2.2.10 2.2.9 2.2.8 2.2.7 2.2.6 2.2.5 2.2.4 2.2.3 2.2.1 2.2.0
  CATEGORY='utility'
 ATTRIBUTE='console'
    SOURCE="pub/software/utils/pciutils/pciutils-$VERSION.tar.bz2"
  HOMEPAGE='ftp://ftp.kernel.org/pub/software/utils/pciutils'
       URL="$KERNEL_URL"
       REQ='zlib'
      OPTS='--enable-static=no'
  ESTIMATE='100'
      DESC='pciutils provides setpci and lspci utils.

pciutils include:

lspci		displays detailed information about all PCI busses and
		devices in the system, replacing the original /proc/pci
		interface.

setpci		allows to read from and write to
		PCI device configuration registers.
		For example, you can adjust
		the latency timers with it.'

build(){

 install_lib(){
  mkdir       -vpm 755        /usr/include/pci
  for                    file in lib/*.h
  do  install -vm  644  $file /usr/include/pci/
  done
  case $HOSTTYPE in
   x86_64) install -vm 755 lib/libpci.a /usr/lib64 ;;
        *) install -vm 755 lib/libpci.a /usr/lib   ;;
  esac
 }

 make            PREFIX=/usr &&
 prepare_install             &&
 make    install PREFIX=/usr &&
         install_lib
 # libpci.a is 30K, small enough that there is no shared library for it.
}

current(){
 case $VERSION in
  2.2.9) [ -f /usr/sbin/lspci ] ;;
 esac
}
