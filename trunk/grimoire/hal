    stable 0.5.11 0.5.10
   require hal-info dbus-glib libselinux pciutils perl--XML-Parser udev
  optional libusb  ''               ''                for usb support
  optional gtk-doc --enable-gtk-doc --disable-gtk-doc for DocBook documentation

    ignore 'info\|rc'
  category system
 attribute console
    source hal-$VERSION.tar.gz
  homepage http://www.freedesktop.org/wiki/Software/hal
       url http://hal.freedesktop.org/releases/

#            'libselinux:--enable-selinux:--disable-selinux:for SELinux support'
# gnome-python needed for hal-device-manager but it creates a loop due to its
# dependence on gnome-vfs which requires hal
#             'gnome-python:::for hal-device-manager' 
      opts --with-hwdata=/usr/share/
      opts --with-pid-file=/var/run/haldaemon.pid
      opts --disable-policy-kit
      opts --enable-static=no
# --disable-policy-kit is OK for now, read 
# http://www.mail-archive.com/desktop-devel-list@gnome.org/msg06861.html
 freshmeat halayer
  estimate 1500
      desc 'hal, hardware abstraction layer, implements the hal.
HAL (Hardware Abstraction Layer) is a specification
and an implementation of a hardware abstraction layer.
It encompasses a shared library for use in applications, a daemon,
a hotplug tool, command line tools, and a set of stock device info files.'

build(){
mkdir    -p -m 0755 /var/empty
groupadd -K GID_MIN=256 -K GID_MAX=511    haldaemon                         2>/dev/null
useradd  -K UID_MIN=256 -K UID_MAX=511 -g haldaemon -d /var/empty haldaemon 2>/dev/null
default_build
}
