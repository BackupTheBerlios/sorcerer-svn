  VERSION=( "0.5.8.1" "0.5.8" "0.5.7.1" "0.5.7" "0.5.6" "0.5.5.1" "0.5.4" "0.5.3" "0.5.2" "0.5.1" "0.5.0" )
# Hal 0.5.8.1 is needed to fix an interference with autofs
# Requires pciutils <=2.3
  CATEGORY="disk"
 ATTRIBUTE="console"
    SOURCE="hal-$VERSION.tar.gz"
  HOMEPAGE="http://hal.freedesktop.org/wiki/Software_2fhal"
       URL="http://freedesktop.org/~david/dist/"
       REQ=( "dbus-glib udev libcap pciutils"
             "libselinux:--enable-selinux:--disable-selinux:for SELinux support"
             "libusb:::for usb support"
# gnome-python needed for hal-device-manager but it creates a loop due to its
# dependence on gnome-vfs which requires hal
#             "gnome-python:::for hal-device-manager" 
             )
      OPTS="--with-hwdata=/usr/share/pci.ids
            --with-pid-file=/var/run/haldaemon.pid
            --disable-policy-kit"
# --disable-policy-kit is OK for now, read 
# http://www.mail-archive.com/desktop-devel-list@gnome.org/msg06861.html
  ESTIMATE="1560"
      DESC="hal, hardware abstraction layer, implements the hal.
HAL (Hardware Abstraction Layer) is a specification
and an implementation of a hardware abstraction layer.
It encompasses a shared library for use in applications, a daemon,
a hotplug tool, command line tools, and a set of stock device info files."

build()  {
mkdir    -p -m 0755 /var/empty
groupadd -K GID_MIN=256 -K GID_MAX=999    haldaemon                         2>/dev/null
useradd  -K UID_MIN=256 -K UID_MAX=999 -g haldaemon -d /var/empty haldaemon 2>/dev/null
default_build
}
