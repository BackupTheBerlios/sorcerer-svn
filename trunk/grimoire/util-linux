    latest 2.16
    stable 2.15.1 2.15 2.14.2 2.14.1 2.14 2.13.1.1 2.13.1 2.13.0.1 2.13
   require e2fsprogs gettext ncurses udev zlib
# libselinux
    switch --enable-arch  '' to build arch
    switch --enable-write '' to build write
  category utility
 attribute console
       url $KERNEL_URL
    source /pub/linux/utils/util-linux-ng/v${VERSION:0:4}/util-linux-ng-$VERSION.tar.bz2
  homepage ftp://ftp.kernel.org/pub/linux/utils/util-linux-ng/
      opts --disable-wall --with-pam --with-fsprobe=builtin --disable-static
   protect /usr/bin/column
   protect /usr/bin/renice
   exclude /etc/fstab
   exclude /etc/mtab
  estimate 800
      desc 'essential utilities
util-linux-ng (based on version 2.13-pre7 of util-linux)
is a suite of essential utilities for any Linux system.

It contains the following programs:
agetty arch blockdev cal cfdisk chfn chkdupexe chsh clear col colcrt
colrm column ctrlaltdel cytune ddate dmesg elvtune fastboot fasthalt
fdformat fdisk fsck.cramfs fsck.minix getopt halt hexdump hwclock
initctl ipcrm ipcs isosize kill last line logger login look mcookie
mesg mkfs mkfs.bfs mkfs.cramfs mkfs.minix mkswap more mount namei need
passwd pg pivot_root ramsize raw rdev readprofile reboot rename renice
rescuept reset rev rootflags script setfdprm setsid setterm sfdisk
shutdown simpleinit sln swapoff swapon tunelp ul umount vidmode vipw
wall whereis write.'

build(){

uclibc_build(){
 (
  # cal fails to build on uClibc
  # does not properly link with the libintl library on uClibc
  # nor does libtool pass the -lintl when specified in LDFLAGS or LIBS

  # column's output was messed up after compliation with uClibc

  # export CFLAGS+=' -lintl'

  unset LD_PRELOAD
  ./configure            \
   --sysconfdir=/etc     \
   --localstatedir=/var  \
   --prefix=/usr         \
   --disable-nls         \
  $OPTS                  &&
  touch misc-utils/cal.o &&
  touch misc-utils/cal   &&
  make            &&
  prepare_install &&
  make    install &&
  rm -f /usr/bin/cal
  )
 }

 case $MACHTYPE in
  *-uclibc) uclibc_build ;;
  *-gnu)   default_build ;;
 esac
}


current(){
 case $VERSION in
  2.15.1) LC_ALL=C grep -q libblkid.so $INSTALL_LOGS/util-linux ;;
 esac
}
