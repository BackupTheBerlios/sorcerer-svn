# If a box fails to fsck and fails to mount /
# then try
# augur progress util-linux legacy
# cast util-linux

    stable 2.18 2.17.2 2.17.1 2.17 2.16.2 2.16.1 2.16
    legacy 2.17.2 2.17.1 2.17 2.18 2.16.2 2.16.1 2.16
   require gettext ncurses zlib
# libselinux
# due to some sorcery bug util-linux wants to reconfigure all the time
# temporarily disabling these switches
# will fix in the future.
#    switch --enable-arch  '' to build arch
#    switch --enable-write '' to build write
  category utility
 attribute console
    source $KERNEL_URL /pub/linux/utils/util-linux-ng/v${VERSION:0:4}/util-linux-ng-$VERSION.tar.bz2
  homepage http://kernel.org/~kzak/util-linux-ng/
      opts --disable-wall --with-pam --with-fsprobe=builtin --disable-static --enable-arch
   protect /usr/bin/column
   protect /usr/bin/renice
   exclude /etc/fstab
   exclude /etc/mtab
  estimate 1400
      desc 'essential utilities
util-linux-ng (based on version 2.13-pre7 of util-linux)
is a suite of essential utilities for any Linux system.

It contains the following programs:
agetty arch blockdev cal cfdisk chfn chkdupexe chsh clear col colcrt
colrm column ctrlaltdel cytune ddate dmesg elvtune fastboot fasthalt
fdformat fdisk fsck.cramfs fsck.minix getopt halt hexdump hwclock
initctl ipcrm ipcs isosize kill last line logger login look mcookie
mesg mkfs mkfs.bfs mkfs.cramfs mkfs.minix mkswap more mount namei need
passwd pg pivot_root ramsize raw rdev readprofile reboot rename renice
rescuept reset rev rootflags script setfdprm setsid setterm sfdisk
shutdown simpleinit sln swapoff swapon tunelp ul umount vidmode vipw
wall whereis write.'

build(){
case $MACHTYPE in
 *-uclibc) LDFLAGS+=' -lintl' ;;
esac
case $HOSTTYPE in
 x86_64) OPTS+=' --libdir=/lib64' ;;
esac
default_build
}
