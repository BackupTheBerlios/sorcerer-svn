# intiramfs spell is for the Sorcerer distribution only
# Copyright 2007-2011 by Kyle Sallee, all rights reserved.

   version stable 20110924
   require coreutils cpio findutils grep init-scripts module-init-tools sed udev util-linux
  category administration/bootloader
 attribute archive_off console solo
      desc "creates the Sorcerer's keep

The Sorcerer's keep is an inital random access memory file system
used during booting and retained during normal operation.
The keep can be used to troubleshout problems.
While logged into the keep on virtual console #7 or by
# ssh -p 30 127.0.0.1
the real root filesystem will be mounted as /media/root/

Modular kernels often lack compiled in drivers
that are required for mounting the root filesystem.
An initramfs can be essential for booting boxes with a modular kernel.
Even if the Sorcerer's keep is not desired
then a box will probably be UNABLE to boot without it.
Dispel this at the risk of GREAT peril!"

build(){
 mkdir  -pvm 755 $DESTDIR/sbin
 install -vm 700 $SCRIPT_DIR/init  $DESTDIR/init
 ln      -fs /etc/init.d/initramfs $DESTDIR/sbin/mkinitrd
 ln      -fs /etc/init.d/initramfs $DESTDIR/sbin/mkinitrf
}
