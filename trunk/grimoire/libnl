   version stable 3.2.7 1.0-pre8
#  version unstable 3.0 1.1
   require autoconf
  category network/library
 attribute library makej
#attribute multilib-concurrent
    source http://www.infradead.org/~tgr/libnl/files/libnl-$VERSION.tar.gz
#   source http://downloads.openwrt.org/sources/libnl-$VERSION.tar.gz
      info last 20120125
      info home http://www.infradead.org/~tgr/libnl/
 conflicts libnl2
      desc 'library for applications dealing with netlink sockets
The library provides an interface for raw netlink messaging
and various netlink family specific interfaces.'

build(){
 case $VERSION in
  1.0-pre8) sed -i '1i#include <limits.h>' include/netlink-local.h ;;
  3.2.7) sed -i '1i#ifndef YY_BUF_SIZE
                 1i#define YY_BUF_SIZE 16384
                 1i#endif' lib/route/pktloc.c ;;
 esac
 default_build &&
 case $VERSION in
  1.0-pre8) mkdir  -pvm 755 $DESTDIR/usr/include/linux
            install -vm 755 {,$DESTDIR/usr/}include/linux/ip_mp_alg.h ;;
 esac
}
