# How to do DESTDIR style install with boost?

# Update build() in spring
# update montone when updating boost
## Above comments no longer apply.
# updated to 1_43_0_beta1 because 1_42_0 does not compile
# with gcc version 4.4.3

# 1_43_0_beta1 header files are unusable for compiling other software.
# 1_42_0 is not compiling with current gcc-g++
# 1_43_0 has problems in it's header files that cause akonadi
# to fail compilation

    stable 1_45_0 1_42_0 1_41_0 1_40_0
case $VERSION in
 1_42_0) use_gcc gcc-v4.3.3 ;;
esac
   require Python boost-jam bzip2 cmake icu4c zlib
      opts -DCMAKE_INSTALL_PREFIX:PATH=/usr
      opts -DBUILD_VERSIONED:BOOL=FALSE
      opts -DCMAKE_IS_EXPERIMENTAL=YES_I_KNOW
      opts -DBUILD_STATIC:BOOL=FALSE
      opts -DBUILD_DEBUG:BOOL=FALSE
  category development
 attribute library
case $VERSION in
 *beta*)
    source $SOURCEFORGE_URL boost/boost/1.43.0.beta.1/boost_$VERSION.tar.bz2
;;
      *)
    source $SOURCEFORGE_URL boost/boost/${VERSION//_/.}/boost_$VERSION.tar.bz2
;;
esac
  homepage http://www.boost.org
      opts --with-icu
  estimate 10000
      desc 'additional C++ libraries
boost was begun by members of the C++ standards
committee Library Working Group to provide free
peer-reviewed portable libraries to the C++ community.
An additional objective is to establish
existing practice and provide reference
implementations so that the Boost libraries
are suitable for eventual standardization.
Indeed, the explicit intent is to propose many of these
libraries for inclusion in the C++ Standard Library.
The Boost Graph Library, formerly known as the Generic
Graph Component Library (GGCL), is a collection of graph
algorithms and data structures created in the generic
programming style of the Standard Template Library (STL).'

build(){
sed -i 's:-O3:-O2:' tools/jam/src/build.jam
./bootstrap.sh --prefix=/usr &&

./bjam -q --layout=tagged variant=release link=shared threading=multi runtime-link=shared stage -j${CAST_RATE:-2} &&
./bjam -q --layout=tagged variant=release link=shared threading=multi runtime-link=shared --prefix=$DESTDIR/usr install
}
