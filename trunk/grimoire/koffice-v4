# 2.3.3 2.3.1 and 2.3.2 failed compilation
# koffice-l10n -> ../koffice-2.3.2/koffice-l10n/
# koffice software authors misplaced the l10n files for koffice version 2.3.3

   version   stable 2.3.3
   inherit kde-v4
   require kdepimlibs-v4 lcms libkdcraw okular poppler-qt-x11-opensource qca qimageblitz
#  require kdegraphics-v4 kdepimlibs-v4 lcms poppler-qt-x11-opensource qca qimageblitz
  optional GraphicsMagick
# optional OpenGTL
  optional glew '' '' for Krita shader filter plugin
  optional gmm
  optional gsl
  optional libgsf
  optional libspnav
  optional libwpd
## koffice-v4 with libwpg support is not compiling
# optional libwpg
      opts -DWITH_WPG:BOOL=OFF
  optional openexr
  optional pstoedit
  optional wv2  '' '' for reading ms office and power point files

  category office
 attribute makej

case $VERSION in
 2.2.*) source $KDE_URL stable/koffice-$VERSION/koffice-$VERSION.tar.bz2 ;;
 2.1.*) source $KDE_URL stable/koffice-$VERSION/koffice-$VERSION.tar.bz2 ;;
 2.0.*) source $KDE_URL stable/koffice-$VERSION/src/koffice-$VERSION.tar.bz2 ;;
     *) source $KDE_URL stable/koffice-$VERSION/koffice-$VERSION.tar.bz2 ;;
esac
      info home http://koffice.kde.org/
      info last 20111008
 conflicts calligra
      desc 'KDE4 office suite'

build(){
 case $VERSION in
  2.3.3) sed -i 's:glib/giochannel.h:glib.h:' filters/kword/msword-odf/wv2/src/olestream.h ;;
 esac
 default_build
}
