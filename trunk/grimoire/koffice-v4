# 2.3.3 2.3.1 and 2.3.2 failed compilation
# koffice-l10n -> ../koffice-2.3.2/koffice-l10n/
# koffice software authors misplaced the l10n files for koffice version 2.3.3

with version   stable 2.3.3
with inherit kde-v4
with base    digikam kdepimlibs-v4 lcms okular poppler-qt-x11-opensource qca qimageblitz
#with base    kdegraphics-v4 kdepimlibs-v4 lcms poppler-qt-x11-opensource qca qimageblitz
with elect   GraphicsMagick
#with elect   OpenGTL
with elect   glew '' '' for Krita shader filter plugin
with elect   gmm
with elect   gsl
with elect   libgsf
with elect   libspnav
with elect   libwpd
## koffice-v4 with libwpg support is not compiling
#with elect   libwpg
with also    -DWITH_WPG:BOOL=OFF
with elect   openexr
with elect   pstoedit
with elect   wv2  '' '' for reading ms office and power point files

with role    office
with trait   makej

case $VERSION in
 2.2.*) source $KDE_URL stable/koffice-$VERSION/koffice-$VERSION.tar.bz2 ;;
 2.1.*) source $KDE_URL stable/koffice-$VERSION/koffice-$VERSION.tar.bz2 ;;
 2.0.*) source $KDE_URL stable/koffice-$VERSION/src/koffice-$VERSION.tar.bz2 ;;
     *) source $KDE_URL stable/koffice-$VERSION/koffice-$VERSION.tar.bz2 ;;
esac
with info    home http://koffice.kde.org/
with info    last 20111008
with clash   calligra
with info    cite 'KDE4 office suite'

build(){
 case $VERSION in
  2.3.3) sed -i 's:glib/giochannel.h:glib.h:' filters/kword/msword-odf/wv2/src/olestream.h ;;
 esac
 default_build
}
