# must check for new releases manually
# Only installs ar libraries and not ELF.
# Very odd.
# OpenGTL refuses to compile with llvm when llvm has assertions enabled
# -DCMAKE_BUILD_TYPE=RELEASE release builds turn off assertions support

   version stable 2.9 2.8 2.7 2.6
   require gcc-g++
      opts -DCMAKE_BUILD_TYPE=RELEASE
  category development/emulator
 attribute console library makej multilib-concurrent
    source http://www.llvm.org/releases/$VERSION/llvm-$VERSION.tgz
#   source http://www.llvm.org/releases/$VERSION/llvm-$VERSION.tar.gz
  homepage http://www.llvm.org
  estimate 1800
      desc 'low level virtual machine'

build(){
 default_build &&
 if     [[ $HOSTTYPE == x86_64 ]] &&
      ! [[ $CFLAGS   =~ -m32   ]]
 then mv -v $DESTDIR/usr/lib{,64}
 fi
}
