# Perhaps linux capabilities are no longer supported?
# libcap version 2.19 on uClibc installed libraries
# to / instead of /lib, how strange.

# Versions 2.14 and less require indent
    stable 2.19 2.16
#  require indent
   require attr
  category kernel
 attribute console
    source $KERNEL_URL /pub/linux/libs/security/linux-privs/libcap2/libcap-$VERSION.tar.bz2
  homepage http://ftp.kernel.org/pub/linux/libs/security/linux-privs/kernel-2.4/capfaq-0.2.txt
  estimate 90
      desc 'userspace tools for POSIX capabilities
These programs are used to limit the Inheritable
capabilities of a program to be executed or processes.
Note, this wrapper is intended to assist in overcoming
a lack of support for filesystem capability attributes
and should be used to launch other files.'

build(){
case $MACHTYPE in
 *-uclibc) local lib_prefix=/lib ;;
  x86_64*) local lib_prefix=/lib64 ;;
        *) local lib_prefix=/lib ;;
esac

# patch -p1 < $SCRIPT_DIR/libcap-2.15-capability_h-2.patch  &&
make &&
make install     prefix=/usr \
             inc_prefix=/usr \
             lib_prefix=$lib_prefix  \
             man_prefix=/usr \
     DESTDIR=$DESTDIR
}
