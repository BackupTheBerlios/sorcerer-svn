# Installs a /usr/include/sqltypes.h header file
# that might be broke and prevents compilatio nof ptlib
# has header files and libraries that are named
# the same as unixODBC

   version stable 3.52.7
   require gtk+
      opts --disable-static --prefix=/usr
  category db
 attribute library lto x11
    source http://www.iodbc.org/downloads/iODBC/libiodbc-$VERSION.tar.gz
      info home http://www.iodbc.org/dataspace/iodbc/wiki/iODBC/
#conflicts unixODBC
      desc 'Independent Open DataBase Connectivity for linux'

build(){
 if    [[ $HOSTTYPE == x86_64 ]]; then
  if ! [[ $CFLAGS =~ -m32 ]]
  then opts --libdir=/usr/lib64
  else opts --prefix=/opt/32bit/usr
  fi
 fi

 sed -i 's:hardcode_into_libs=yes:hardcode_into_libs=no:' configure
 default_build
}
