# Where to download a version of madwifi that will compile?

  progress reposit
# 0.9.4 0.9.3.3 aren't compiling anymore, switching to repository progress
    stable 4005 3952
   require wireless_tools
  category kernel
 attribute linux-26-module broke
       url $SOURCEFORGE_URL
REPOSITORY=( ""
             "svn co -r ${VERSION}  http://svn.madwifi-project.org/madwifi/branches/madwifi-free/ madwifi"
             "svn up -r ${VERSION}  http://svn.madwifi-project.org/madwifi/branches/madwifi-free/" )
#   source madwifi/madwifi-$VERSION.tar.bz2
  homepage http://madwifi.sourceforge.net
  estimate 100
      desc 'madwifi is a Multiband Atheros linux kernel driver for Wireless Fidelity.
The driver works such that your WLAN card
will appear as a normal network interface in the system.
Additionally there is support for the Wireless Extensions API.
This allows you to configure most aspects
of the device using common wireless tools
(ifconfig, iwconfig and friends).'

build(){
 sed -i "s:uname -r:echo $( installed_version $( get_provider linux-kernel ) ):" Makefile.inc patches/install.sh
 patch -p1 < $SCRIPT_DIR/0.9.4.patch
 make            &&
 prepare_install && yes i |
 make    install BINDIR=/bin MANDIR=/usr/man
 cp -R $SCRIPT_DIR/networks.d /etc/
}
