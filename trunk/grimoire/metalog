   VERSION=( "0.7" "0.6" )
    IGNORE="beta\|rc"
  CATEGORY="log"
 ATTRIBUTE="server console"
    SOURCE="metalog/metalog-$VERSION.tar.gz"
       URL="$SOURCEFORGE_URL"
  HOMEPAGE="http://metalog.sourceforge.net"
  EPROVIDE="system-logger"
       REQ="pcre"
      DESC="metalog is a modern replacement for syslogd and klogd.
The logged messages can be dispatched according
to their facility, urgency, program name,
and/or Perl-compatible regular expressions.
Log files can be automatically rotated
when they exceed a certain size or age.
External shell scripts (e.g., mail)
can be launched when specific patterns are found.
Metalog is easier to configure than syslogd and syslog-ng,
accepts an unlimited number of rules, and has (switchable)
memory bufferization for maximal performance."

build() {
 default_build  &&
 install                       metalog.conf  /etc  &&
 install  -m 0755  $SCRIPT_DIR/metalog       /etc/init.d
}

post_install() {
  /lib/lsb/install_initd /etc/init.d/metalog
  /etc/init.d/metalog start
  true
}

pre_remove() {
  /etc/init.d/metalog stop
  /lib/lsb/remove_initd /etc/init.d/metalog
}
