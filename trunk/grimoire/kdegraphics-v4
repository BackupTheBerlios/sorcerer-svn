# ebook-tools broke because it requires libzip which is not compiling

# Write some more spells for optionals...

#   * libepub  <http://sourceforge.net/projects/ebook-tools>
#     A library for reading EPub documents
#     Support for EPub documents in Okular.


#  require kdelibs-v4 kdepimlibs-v4

   inherit kde-v4
   require kdebase-workspace-v4 poppler-qt-x11-opensource qca sane-backends
  optional djvulibre                 '' '' for viewing dejavu documents
  optional chmlib                    '' '' for supporting CHM files in okular
  optional exiv2                     '' '' for gwenview
  optional libgphoto2                '' '' for digital still camera support
  optional libspectre                '' '' for supporting PS files in okular
  optional qimageblitz               '' '' for graphical effects and filtering
# optional sane-backends             '' '' for libkscan/kooka
# optional ebook-tools               '' '' for reading EPub documents in Ocular
  category graphic
 attribute library makej
 conflicts libksane
  estimate 2000
      desc 'Graphics related programs
kdegraphics contains graphics-related programs like PostScript? 
previewer, DVI previewer, and a drawing program.'

current(){
 case $VERSION in
  4.1.1) [[ -f /opt/kde4/lib/pkgconfig/libkdcraw.pc ]] ;;
 esac
}

build(){
 case $VERSION in
    4.2.2) patch -p0 < $SCRIPT_DIR/libksane.patch ;;
 esac
 default_build
}
