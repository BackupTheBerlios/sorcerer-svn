# Compiles fine, but installs in /usr/local
# requires shapelib which is broke
# roadmap-1.2.1-src.tar.gz 2009-02-08 1.3 MB

   version stable 1.2.1 1.1.0
   require gpsd gtk+ flite popt qt-x11-free shapelib sqlite
  category GPS
 attribute kde3
 attribute broke
    source $SOURCEFORGE_URL roadmap/RoadMap/$VERSION/roadmap-$VERSION-src.tar.gz
  homepage http://roadmap.sourceforge.net/
      desc 'navigation program for USA
roadmap is a navigation program that displays street maps.
The maps are provided by the US Census Bureau, and thus only cover USA.
A specific area can be displayed by selecting a street address.
It interfaces with gpsd to track a GPS position, and has been
designed to be usable on a desktop, laptop, or PDA computer.'

build(){
 cd src

 export   QTDIR=/opt/kde3
 export   PATH+=:/opt/kde3/bin
 export CFLAGS+=' -I/usr/include/libshp'

 sed -i "s:/appl:/share/appl:
         s:/usr/local:/usr:"  Makefile  */Makefile

 # s:/include/qt3:/include/kde3:

 sed -i "s:-lqt$:-lqt-mt:"  qt/Makefile

 make "MODECFLAGS=$CFLAGS" runtime build icons &&
 make install DESTDIR=$DESTDIR
}
