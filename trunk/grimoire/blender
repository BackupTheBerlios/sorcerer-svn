    stable 2.49b 2.49 2.48a 2.48 2.47 2.46 2.45 2.44 2.43 2.41 2.40 2.37a 2.37 2.36
   require Python alsa-lib freealut freetype jpeg libvorbis mozilla scons
  optional yasm '' '' for fast x264 encoding
  category graphic/editor video/editor
 attribute new x11
#conflicts freealut
    source http://download.blender.org/source/blender-$VERSION.tar.gz
      vurl http://www.blender.org/download/get-blender
  homepage http://www.blender3d.org
	#to fix ogg and vorbis are really required if compiled in
case $VERSION in
 2.45) use_gcc gcc-v3.4 ;;
 2.41) use_gcc gcc-v3.4 ;;
esac
  estimate 3800
      desc 'a 3d modeling environement
Blender is a fully integrated 3D graphics creation suite allowing
modeling, animation, rendering, post-production, real-time interactive
3D, and game creation and playback with cross-platform compatibility.'


build(){
fix_nasm_inc(){
cd extern/xvidcore/src/
find . -type d -exec cp -v nasm.inc '{}' \;
cd ../../..
}

case $VERSION in
2.49b) fix_nasm_inc ;;
esac
 
export  LDFLAGS+=' -lalut'
scons           &&
prepare_install &&
scons install BF_INSTALLDIR=/opt/blender
}
