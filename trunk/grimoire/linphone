  stable 2.1.1 2.1.0 2.0.1 2.0.0 1.7.1 1.7.0 1.6.0
  CATEGORY='network/telephone'
 ATTRIBUTE='console gnome'
    SOURCE="linphone-$VERSION.tar.gz"
       URL='http://download.savannah.nongnu.org/releases/linphone/stable/sources/'
  HOMEPAGE='http://www.linphone.org/'
       REQ=( 'ffmpeg glib libeXosip2 speex'
             'alsa-lib:--enable-alsa:--disable-alsa:for alsa support'
             'gnome-panel:--enable-gnome_ui=yes:--enable-gnome_ui=no:for GUI support'
             'jackit:::for jack sound server support' )
      OPTS='--enable-static=no'
  ESTIMATE='2000'
      DESC='linphone an voice over IP telephone program.
linphone is a web phone with a GNOME interface.
It makes two-party calls over IP networks such as the Internet.
It uses the IETF protocols SIP (Session Initiation Protocol)
and RTP (Realtime Transport Protocol) to make calls.
It should be able to communicate with other SIP-based Web phones.
With several codecs available, it can be used with
high speed connections as well as 28k modems.'

build(){
 case $VERSION in
  2.1.1) sed -i 's:ffmpeg/:libavcodec/:' mediastreamer2/src/*.c
         sed -i 's:libavcodec/swscale.h:libswscale/swscale.h:' mediastreamer2/src/*.c
         sed -i 's:libavcodec/avutil.h:libavutil/avutil.h:' mediastreamer2/src/*.c
         ;;
 esac
 default_build
}

build_old(){
grep  -lr '\-Werror' * |
xargs --max-lines=64 sed -i 's:-Werror::'
default_build
}
