# No successful compilation of this yet.
# software authors do not provide source tarball.
# source directory downloaded with svn and rolled into a tarball
# I might update this someday or not -KS
with version stable r1424
case $VERSION in
 r1424) use_gcc gcc-v4.2 ;;
esac
with base    scons
with role    game
with trait   makej x11
with trait   broke
with source  stable http://sources.silverice.org/netpanzer/$VERSION/netpanzer-$VERSION.tar.xz
with info    last 20130116
with info    home http://www.entpanzer.org/
with info    cite 'open source online multiplayer tactical warfare game'

build(){
 make_install(){
  mkdir  -pvm 755           "$DESTDIR"/usr/bin
  mkdir  -pvm 755           "$DESTDIR"/usr/share/netpanzer
  install -vm 755 netpanzer "$DESTDIR"/usr/bin/
  mv      -v  cache maps pics powerups scripts sound units wads \
                            "$DESTDIR"/usr/share/netpanzer/
  find "$DESTDIR"/usr/share -type d | xargs --max-lines=64 chmod 755
  find "$DESTDIR"/usr/share -type f | xargs --max-lines=64 chmod 644
 }

 scons datadir=/usr/share/netpanzer &&
 make_install
}
