    stable 1.0.10 1.0.8 1.0.6 1.0.4 1.0.3 1.0.2 1.0.1
   require init-functions
  category utility
 attribute console
    source $SOURCEFORGE_URL acpid/acpid-$VERSION.tar.gz
  homepage http://acpid.sourceforge.net
      desc 'the ACPI Event Daemon for power management
acpid is a completely flexible and expandable mechanism 
for delivering ACPI events from the kernel to user-space.
It can be configured to perform any action at all when events occur, 
through regex matches and arbitrary action rules.'

build(){
 install_config(){
  mkdir   -p   /etc/acpi/events  /etc/acpi/samples/battery \
                                 /etc/acpi/samples/panasonic
  install -m 755  samples/acpi_handler.sh  /etc/acpi/samples
  install -m 644  samples/sample.conf      /etc/acpi/samples
  install -m 644  samples/battery/*  /etc/acpi/samples/battery
  install -m 644  samples/panasonic/*  /etc/acpi/samples/panasonic
 }

   CFLAGS+="-D_GNU_SOURCE"
 CXXFLAGS+="-D_GNU_SOURCE"

 CF="CFLAGS=${CFLAGS} -g -Wall -DVERSION=\"\\\"${VERSION}\\\"\""
 MD=MAN8DIR=/usr/man/man8

 make            "$CF" &&
 prepare_install       &&
 make    install "$MD" &&
 install_config
}
