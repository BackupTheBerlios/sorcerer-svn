# undefined reference to `db_strerror'
# db 4.7.25 has an API change that is incompatible with
# reland and some other programs.

    stable 4.7.25
  unstable 4.7.25
    ignore '\.NC\|cd'
  category db
 attribute library
    source http://download.oracle.com/berkeley-db/db-$VERSION.tar.gz
#      url http://www.oracle.com/technology/products/berkeley-db/db/update/$VERSION/
      opts --enable-static=no
  homepage http://www.oracle.com/technology/software/products/berkeley-db/db/index.html
      vurl http://www.oracle.com/technology/software/products/berkeley-db/db/index.html
 freshmeat berkeleydb
  estimate 900
      desc 'db also called Berkeley DB provides database support.
db also called Berkeley DB is a programmatic toolkit that provides 
fast, reliable, scalable, and mission-critical database support in 
software ranging from applications running on hand-held appliances 
to enterprise-scale servers.'

build(){
PCX=1
while [ -n "${SOURCE[$PCX]}" ]; do
 patch -p0 < $SOURCE_CACHE/$SPELL/$VERSION/${SOURCE[$PCX]}
 (( PCX++ ))
done

cd build_unix &&
../dist/configure  \
--prefix=/usr      \
--build=$BUILD     \
--enable-dynamic   \
--enable-compat185 \
--enable-cxx       \
$OPTS              &&
make               &&
prepare_install    &&
make    install    &&
rm -rf /usr/docs
}


post_install(){
 default_post_install
           get_provider openldap |
 pipe      show_installed        |
 LC_ALL=C  sort                  |
           uniq -d               |
           pipe_queue $CAST_QUEUE com
}
