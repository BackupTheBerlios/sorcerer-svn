# 5.0.1 has an irregularly large so version number change.
# holding off on update until 5.0.2 to see if the change is consistent
# or was some sort of mistake.
# php version 5.2.12 has a compile error with gmp 5.0.1

# case $HOSTTYPE in
#  x86_64)
#     stable 4.3.0 ;;
#       *)
#     stable 5.0.0 4.3.1 4.3.0
#     latest 5.0.1 ;;
# esac

# versions 5.0.0 and 5.0.1 appear to be unstable.
# ppl requires gmp < 5.0.0

    stable 4.3.2
# optional on gcc-g++ creates circuliar requirement loop
# optional gcc-g++
  category utility/math
 attribute library
    source $GNU_URL gmp/gmp-$VERSION.tar.bz2
  homepage http://www.gnu.org/directory/gnump.html
      opts --enable-cxx --enable-mpfr --enable-static=no
  estimate 1600
      desc 'GNU mathematics precision library
gmp is a library operating on signed integers,
rational numbers, and floating point numbers.
All functions have a standardized interface.
GNUmp is designed to be as fast as possible
by using fullwords as the basic arithmetic type,
by using fast algorithms, by carefully optimizing
assembly code for the most common inner loops for
many CPUs, and by a general emphasis on speed
(as opposed to simplicity or elegance).
GNUmp speed advantage increases with the operand size,
since GNUmp in many cases has asymptomatically faster algorithms.'

build(){
(
 case $HOSTTYPE in
  i[5-6]86) export ABI=32 ;;
 esac

# CPPFLAGS=-fexceptions is required by
# ppl to create a gmp that can do bounded memory capabilities
# offered by ppl

 CPPFLAGS=-fexceptions \
 ./configure           \
  --sysconfdir=/etc    \
  --localstatedir=/var \
  --prefix=/usr        \
 $OPTS           &&
 make            &&
 prepare_install &&
 make    install
)
}
