CURL_PARAM='--insecure'
    stable 0.52.10 0.52.2 0.52.1 0.51.6-31
   require Python popt slang tcl
  category utility
 attribute console library
#   source http://ftp.us.debian.org/debian/pool/main/n/newt/newt_${VERSION%-*}.orig.tar.gz
    source https://fedorahosted.org/releases/n/e/newt/newt-$VERSION.tar.gz
  homepage https://fedorahosted.org/newt/
  estimate 250
      desc 'perl library for text screen widgets.
Newt is a perl library built on top of
Red Hat newt C library for text screen widgets.
It allows a perl programer to build simple but
effective text-mode user interfaces with little effort.

It is very usable because it has complete support
for all widgets found in newt 0.30, and provides
a nice abstraction over the C interface.'


build(){
if   [     -f newt-${VERSION:0:6}.tar.gz ]
then tar -zxf newt-${VERSION:0:6}.tar.gz
     cd       newt-${VERSION:0:6}
fi

rm -f .depend

# PYVER="$(  installed_version  $(  get_provider  Python  )  )"
# PYVER="${PYVER:0:3}"

TCLVER="$( installed_version $( get_provider tcl ) )"
TCLVER="${TCLVER:0:3}"

# Makefile.in:LIBTCL = -ltcl8.4
sed -i "s:LIBTCL = .*:LIBTCL = -ltcl$TCLVER:" Makefile.in

[[ -n      ${SOURCE[1]} ]] &&
decompress ${SOURCE[1]} |
patch -p1
cat debian/patches/* | patch -p1

sed -i 's:-static::' Makefile.in
default_build &&
case $VERSION in
 0.52.2) ln -s libnewt.so.0.52.1 /usr/lib/libnewt.so.0.52 ;;
esac
}

current(){
case $VERSION  in
 0.52.2) [ -h /usr/lib/libnewt.so.0.52 ] ;;
esac
}
