   version   stable 0.10.13
   version unstable 0.11.2
case $VERSION in
 0.10.13)
   require ffmpeg-v0.7 ;;
 0.11.2)
   require ffmpeg-v0.7 ;;
esac
   require ffmpeg gst-plugins-base pygobject
      opts --disable-examples --enable-static=no
      opts --with-system-ffmpeg
  category development
 attribute gnome library multilib-concurrent setarch
    source   stable http://gstreamer.freedesktop.org/src/gst-ffmpeg/gst-ffmpeg-$VERSION.tar.bz2
    source unstable http://gstreamer.freedesktop.org/src/gst-ffmpeg/gst-ffmpeg-$VERSION.tar.bz2
      info good 20120721
      info last 20101108
#     info last 20120322 # for version 0.11.2
      info home http://gstreamer.freedesktop.org/
      info docs http://gstreamer.freedesktop.org/documentation/
      info mail http://gstreamer.freedesktop.org/lists/
      desc 'set of plugins for gstreamer'

build(){
 ffmpeg_legacy(){
  local SUFFIX

  if   [[ $HOSTTYPE == x86_64 ]] && ! [[ $CFLAGS =~ -m32 ]]
  then SUFFIX=64
  else SUFFIX=
  fi

  export   CFLAGS+=' -I/opt/ffmpeg/0.7/usr/include'
  export CXXFLAGS+=' -I/opt/ffmpeg/0.7/usr/include'
  export      PKG_CONFIG_PATH="/opt/ffmpeg/0.7/usr/lib$SUFFIX:$PKG_CONFIG_PATH"
  export LDFLAGS+=" -Wl,-rpath,/opt/ffmpeg/0.7/usr/lib$SUFFIX"
 }

 case $VERSION in
  0.10.13) ffmpeg_legacy ;;
  0.11.2)  ffmpeg_legacy ;;
 esac
 default_build
}
