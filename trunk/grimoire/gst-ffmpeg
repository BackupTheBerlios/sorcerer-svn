with version   stable 0.10.13
with version unstable 0.11.2
case $VERSION in
 0.10.13)
with base    ffmpeg-v0.7 ;;
 0.11.2)
with base    ffmpeg-v0.7 ;;
esac
with base    ffmpeg gst-plugins-base-0.10 pygobject
with also    --disable-examples --enable-static=no
with also    --with-system-ffmpeg
with role    development
with trait   gnome library multilib-concurrent setarch
with source    stable http://gstreamer.freedesktop.org/src/gst-ffmpeg/gst-ffmpeg-$VERSION.tar.bz2
with source  unstable http://gstreamer.freedesktop.org/src/gst-ffmpeg/gst-ffmpeg-$VERSION.tar.bz2
with info    good 20120721
with info    last 20101108
#     info last 20120322 # for version 0.11.2
with info    home http://gstreamer.freedesktop.org/
with info    docs http://gstreamer.freedesktop.org/documentation/
with info    mail http://gstreamer.freedesktop.org/lists/
with info    cite 'set of plugins for gstreamer'

build(){
 ffmpeg_legacy(){
  local SUFFIX

  if   [[ $HOSTTYPE == x86_64 ]] && ! [[ $CFLAGS =~ -m32 ]]
  then SUFFIX=64
  else SUFFIX=
  fi

  export   CFLAGS+=' -I/opt/ffmpeg/0.7/usr/include'
  export CXXFLAGS+=' -I/opt/ffmpeg/0.7/usr/include'
  export      PKG_CONFIG_PATH="/opt/ffmpeg/0.7/usr/lib$SUFFIX:$PKG_CONFIG_PATH"
  export LDFLAGS+=" -Wl,-rpath,/opt/ffmpeg/0.7/usr/lib$SUFFIX"
 }

 case $VERSION in
  0.10.13) ffmpeg_legacy ;;
  0.11.2)  ffmpeg_legacy ;;
 esac
 default_build
}
