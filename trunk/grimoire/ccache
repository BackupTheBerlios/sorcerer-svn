   version stable 3.1.8 3.1.7 3.1.6
  category development
 attribute console solo optimize
    source http://samba.org/ftp/ccache/ccache-$VERSION.tar.xz
      info last 20120811
      info home http://ccache.samba.org/
      info docs http://ccache.samba.org/manual.html
   LDFLAGS='-static'
      desc 'C and C++ compiler wrapper to speed compilation
ccache is a compiler cache.
It acts as a caching pre-processor to C/C++ compilers, 
using the -E compiler switch and a hash
to detect when a compilation can be satisfied from cache.
The potential performance boost provided by ccache
costs a considerable amount of disk space usage.
Therefore, ccache is not recommended for use
on boxes that have insufficient free space.'

build(){
 local ulc=/usr/libexec/ccache

 symlink_install(){
  cd $DESTDIR$ulc
  ln -fs ccache cc
  ln -fs ccache gcc
  ln -fs ccache c++
  ln -fs ccache g++
 }

export LDFLAGS+=" $OPTS"

sed -i 's:$(CFLAGS):$(CFLAGS) $(LDFLAGS):' Makefile.in

ac_cv_func_getpwuid=no \
./configure            \
--prefix=$ulc          \
--bindir=$ulc          \
--sysconfdir=/etc      \
--localstatedir=/var   \
--mandir=/usr/man      \
$OPTS                  &&
make                   &&
mkdir -pvm 755 "$DESTDIR$ulc" &&
make    install "DESTDIR=$DESTDIR" &&
symlink_install
}
