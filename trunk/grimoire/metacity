# mutter replaced metacity as window manager in gnome 3.

# adding gnome-themes gnome-themes-standard to requirements, howver
# not certain if they are actually required.

# 2.34.1 failed to compile
# no versions are known to compile at the moment
# 2.34.2 requires gsettings-desktop-schemas >= 3.3.0
# 2.30.3 compiled and installed fine.

   version   stable 2.34.8 2.34.5 2.34.3
   require GConf gnome-doc-utils gnome-themes gnome-themes-standard gtk-engines-2 gtk+ imake libcanberra libgtop startup-notification xorg-cf-files

#  require GConf gnome-themes gnome-themes-standard libcanberra libgtop startup-notification zenity
#  require GConf-dbus gnome-themes libcanberra libgtop startup-notification zenity
#  require GConf gnome-themes libglade startup-notification zenity
      opts --enable-static=no
# --with-gtk=3.0 failed to compile on 2.34.0
#     opts --with-gtk=3.0
  category window-manager
 attribute gnome makej optimize
    source $GNOME_URL sources/metacity/${VERSION:0:4}/metacity-$VERSION.tar.xz
      info last 20120903
      info home http://people.redhat.com/~hp/metacity
     wmbin /usr/bin/metacity
      desc 'gtk+ windows manager'

build(){
 case $VERSION in
  2.30.*) sed -i 's:-Werror::g' configure ;;
 esac
 default_build
}
