# using older versions because newer versions do not compile
with info    last 20000101
# requires gcc with objc support
# can require either libffi or ffcall
# However, it seems that it prefers or only works with ffcall
# but ffcall is no longer maintained nor available for download

with version stable 1.24.0 1.18.0 1.20.0
with base    binutils gnustep-make gnutls openssl libffi libxslt
with also    --with-layout=fhs
# below does not fix the problem
#     with also --disable-invocations
#     with also --with-ffi-include=/usr/include --with-ffi-library=/usr/lib
with role    development
with trait   console library makej multilib-fail
with trait   broke
with source  http://ftpmain.gnustep.org/pub/gnustep/core/gnustep-base-$VERSION.tar.gz
with info    home http://www.gnustep.org
with info    cite 'foundation for GNUstep'

build(){
 if   [[ $HOSTTYPE == x86_64 ]] && ! [[ $CFLAGS =~ -m32 ]]
 then with also --libdir=/usr/lib64
 fi
 default_build
}
