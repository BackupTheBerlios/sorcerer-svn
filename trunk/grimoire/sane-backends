   VERSION=( "1.0.18" "1.0.17" "1.0.16" "1.0.15" "1.0.14" "1.0.13" "1.0.12" )
  CATEGORY="graphic/scan"
 ATTRIBUTE="library x11"
    SOURCE="sane-backends-$VERSION.tar.gz"
       URL="http://alioth.debian.org/download.php/1669/"
#   SOURCE="sane-backends-$VERSION/sane-backends-$VERSION.tar.gz"
#      URL="ftp://ftp.sane-project.org/pub/sane/"
  HOMEPAGE="http://www.sane-project.org/"
#  HOMEPAGE="http://www.mostang.com/sane/source.html"
#       URL="ftp://ftp.mostang.com/pub/sane/
#            ftp://ftp.de.mostang.com/pub/sane/
#            ftp://ftp.no.mostang.com/pub/sane/"
       REQ=( "jpeg"
             "libgphoto2:::for digital camera support"
             "libusb:::for usb scanner support"
             "tiff:::for tiff graphic file format support" )
#      REQ="jpeg teTeX"
 FRESHMEAT="sane"
  ESTIMATE="1930"
# note saned provides an inetd or xinetd daemon for handling
# remote requests for data/image acquisition, but this spell
# is not yet updated to install an xinetd.d configuration file
# for it.
      DESC="sane-backends contains libraries for scanning.

SANE stands for Scanner Access Now Easy.
This package contains the SANE libraries
(this means backends and network scanning parts)
and the command line frontend scanimage."

build() {

dopatch(){
patch sanei/sanei_usb.c << EOF
637,638c
      result = 0; //usb_set_configuration (devices[devcount].libusb_handle,
                //                    dev->config[0].bConfigurationValue);
.
EOF
}

case  $VERSION  in
  1.0.16)  dopatch  ;;
esac

  ./configure            \
  --build=$BUILD         \
  --prefix=/usr          \
  --sysconfdir=/etc      \
  --localstatedir=/var   \
  $OPTS                  &&
  make  STANDARD=        &&
  prepare_install        &&
  make    install  STANDARD=
}
