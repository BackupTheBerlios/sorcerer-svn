    stable 1.5.0 1.4.6 1.4.5 1.4.4 1.4.3 1.4.2 1.4.0
   require autoconf db e2fsprogs expat libtool zlib Python swig
  optional heimdal ''               ''             for kerberos support
  optional openssl --with-ssl       ''             for open SSL support
  optional neon    --with-neon=/usr --without-neon to allow http/https access of client
  optional httpd   '--with-apr=/usr --with-apr-util=/usr --with-apxs --disable-mod-activation' '' for SVN server to use installed httpd APR libraries
    ignore 'deps'
  category development
 attribute console perl-module python-module
    source http://subversion.tigris.org/downloads/subversion-$VERSION.tar.bz2
    source http://subversion.tigris.org/downloads/subversion-deps-$VERSION.tar.bz2
      vurl http://subversion.tigris.org/servlets/ProjectDocumentList?folderID=260&expandFolder=74
  homepage http://subversion.tigris.org/
      opts --disable-mod-activation --enable-static=no
 conflicts subversion
# Can not compile, dispel, install.
# Must be uninstalled during compilation.
# Too much apache in subversion
  estimate 2800
      desc 'subversion is a version control system like cvs.'


build() {
  svn-python-path() {
    PVER=$( installed_version  $( get_provider Python ) )
    echo /usr/lib/svn-python > /usr/lib/python${PVER:0:3}/site-packages/subversion.pth
  }

  # subversions 1.2.3 not compatibile with neon 0.25.3
  case  $VERSION  in 
   1.4.0)  DICTIONARY="subversion-1.3.2.tar.bz2"  ;;
   1.2.*)
     NEON_VERSION=$(installed_version neon)
     case ${NEON_VERSION} in
       0.24*) opts $OPTS --disable-debug --with-neon=/usr ;;
       0.25*) opts $OPTS --with-zlib --without-neon;;
     esac
   ;;
  esac
 
  ./configure            \
  --prefix=/usr          \
  --sysconfdir=/etc      \
  --localstatedir=/var   \
  $OPTS                  &&
  make                   &&
  make  swig-py          &&
  make  swig-pl          &&
  prepare_install        &&
  make  install          &&
  make  install-swig-py  &&
  make  install-swig-pl  &&
  svn-python-path
}
