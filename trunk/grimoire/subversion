# subversion conflicts with subversion because
# can not compile, dispel, install.
# Must be uninstalled during compilation.
# Too much apache in subversion

    stable 1.5.2 1.5.1 1.5.0 1.4.6
   require Python autoconf db e2fsprogs expat libtool sqlite-v2.8 swig zlib
  optional heimdal ''               ''             for kerberos support
  optional openssl --with-ssl       ''             for open SSL support
  optional neon    --with-neon=/usr --without-neon to allow http/https access of client
  optional httpd   '--with-apr=/usr --with-apr-util=/usr --with-apxs --disable-mod-activation' '' for SVN server to use installed httpd APR libraries
  category development
 attribute console perl-module python-module
    source http://subversion.tigris.org/downloads/subversion-$VERSION.tar.bz2
    source http://subversion.tigris.org/downloads/subversion-deps-$VERSION.tar.bz2
      vurl http://subversion.tigris.org/servlets/ProjectDocumentList?folderID=260&expandFolder=74
  homepage http://subversion.tigris.org/
      opts --disable-mod-activation --enable-static=no
 conflicts subversion
  estimate 3000
      desc 'subversion is a version control system like cvs.'

build(){
 svn-python-path(){
  PVER=$( installed_version $( get_provider Python ) )
  echo /usr/lib/svn-python > /usr/lib/python${PVER:0:3}/site-packages/subversion.pth
 }

 ./configure           \
 --prefix=/usr         \
 --sysconfdir=/etc     \
 --localstatedir=/var  \
 $OPTS                 &&
 make                  &&
 make  swig-py         &&
 make  swig-pl         &&
 prepare_install       &&
 make  install         &&
 make  install-swig-py &&
 make  install-swig-pl &&
 svn-python-path
}
