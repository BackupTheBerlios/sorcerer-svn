# Broke because libgdamm is broke
# Why is this using unstable versions?
# glom version 1.20.[7-9] requires libgda 5.0.3 which does not compile

   version   stable 1.20.9
   version   latest 1.20.9
   version unstable 1.21.5 1.21.2 1.21.1
   require bakery goocanvasmm libgdamm libgnomecanvasmm libgtksourceviewmm postgresql
#  require bakery goocanvasmm gnome-python-extras libgdamm libgnomecanvasmm libgtksourceviewmm postgresql
      opts --with-postgres-utils=/usr/bin
      opts --with-boost-python=boost_python-mt
  category development
 attribute gnome
 attribute broke
    source $GNOME_URL sources/glom/${VERSION:0:4}/glom-$VERSION.tar.xz
      info last 20120226
      info home 'http://www.glom.org/wiki/index.php?title=Main_Page'
      desc 'easy-to-use database designer and user interface'

build(){
 case $VERSION in
  1.20.*) sed -i 's:5\.0\.3:5.0.2:
                  s: 2\.0\.1 : 2.0.0 :
                  s: 1\.90\.8 : 1.90.5 :' configure ;;
 esac
 default_build
}
