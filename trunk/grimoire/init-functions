# LSB-compliant init.d scripts for use with the distribution sorcerer only!
# Copyright Kyle Sallee 2005, 2006, 2007, 2008.  All rights reserved.

   VERSION=( 3.1.0 3.0 )
  CATEGORY='administration/boot'
 ATTRIBUTE='archive_off console solo'
  HOMEPAGE='http://www.linux-foundation.org/spec/refspecs/LSB_3.1.0/LSB-Core-generic/LSB-Core-generic/iniscrptfunc.html'
  ESTIMATE='3'
      DESC="init-functions provides /lib/lsb/init-functions.
init-functions provides /lib/lsb/init-functions as specified in
$HOMEPAGE"

# For init scipt names see:
# http://www.lanana.org/lsbreg/init/init.txt

# Status codes:
# http://www.linux-foundation.org/spec/refspecs/LSB_3.1.0/LSB-Core-generic/LSB-Core-generic/iniscrptact.html
# 0	program is running or service is OK
# 1	program is dead and /var/run pid file exists
# 2	program is dead and /var/lock lock file exists
# 3	program is not running
# 4	program or service status is unknown

build(){
 prepare_install
 mkdir   -vp                                 /lib/lsb
 install -vm 0644 $SCRIPT_DIR/init-functions /lib/lsb
 install -vm 0755 $SCRIPT_DIR/initd          /lib/lsb/install_initd
 ln      -vf      /lib/lsb/install_initd     /lib/lsb/remove_initd
}

current(){
 case $VERSION in
  3.1.0) grep -q unmounted /lib/lsb/init-functions ;;
 esac
}
