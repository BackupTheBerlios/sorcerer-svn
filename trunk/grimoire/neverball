    stable 1.5.3 1.5.2 1.5.1 1.5.0 1.4.0
   require MesaLib SDL_image SDL_mixer SDL_ttf physfs
  category game
 attribute x11
    source http://neverball.org/neverball-$VERSION.tar.gz
  homepage http://neverball.org/
  estimate 3300
      desc 'table tilting marble game
Tilt the floor to roll a ball through an obstacle course.
In the grand tradition of Marble Madness and Super Monkey Ball,
Neverball has you guide a rolling ball through dangerous territory.
Balance on narrow bridges, navigate mazes, ride moving platforms,
and dodge pushers and shovers to get to the goal.
Race against the clock to collect coins to earn extra balls.'


build(){
USN=/usr/share/neverball

sed -i "s:./data:$USN:"        share/config.h
sed -i "s: -o : $LDFLAGS -o :" Makefile

CF="CFLAGS=$CFLAGS -ansi $( sdl-config --cflags )"
DD=$( find data -type d )

X11="X11_PATH=-L/usr/X11R6/lib"

echo "Compiling both neverball and neverputt."

make "$CF" "$X11"       &&
prepare_install         &&
chmod   -R a+r     data &&
chmod      755     $DD  &&
mkdir   -p         $USN &&
cp      -av data/* $USN &&
install -vm 755 mapc neverball neverputt /usr/bin
}
