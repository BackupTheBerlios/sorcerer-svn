   version stable 1_45_0
case $VERSION in
 1_45_0)
   use_gcc gcc-v4.5 ;;
esac
   require Python boost-jam bzip2 cmake icu4c zlib
  category development
 attribute library
 attribute multilib-fail
    source $SOURCEFORGE_URL boost/boost/${VERSION//_/.}/boost_$VERSION.tar.bz2
      info good 20120716
      info last 20101117
      info home http://www.boost.org/
      info docs http://www.boost.org/doc/
      desc 'boost version to use for compilation of springlobby'

build(){
 local LIBDIR ADDRESS_MODEL PREFIX=/opt/boost/1_45_0

 sed -i 's:-O3:-O2:' tools/jam/src/build.jam
 ./bootstrap.sh --prefix=$PREFIX &&

 if   [[ $HOSTTYPE == x86_64 ]] && [[ $CFLAGS =~ -m32 ]]
 then ADDRESS_MODEL="address-model=32"
 fi

 ./bjam $ADDRESS_MODEL cflags="$CFLAGS" cxxflags="$CXXFLAGS" -q $LIBDIR --layout=tagged variant=release link=shared threading=multi runtime-link=shared stage -j${CAST_RATE:-2} &&
 ./bjam $ADDRESS_MODEL cflags="$CFLAGS" cxxflags="$CXXFLAGS" -q $LIBDIR --layout=tagged variant=release link=shared threading=multi runtime-link=shared --prefix=$DESTDIR/$PREFIX install &&

 if   [[ $HOSTTYPE == x86_64       ]]; then
  if  [[ $CFLAGS   =~ -m32         ]]; then mv $DESTDIR/$PREFIX/lib{,32}
                                       else mv $DESTDIR/$PREFIX/lib{,64}
   if [[ -d $DESTDIR/$PREFIX/lib32 ]]; then mv $DESTDIR/$PREFIX/lib{32,}; fi
  fi
 fi
}
