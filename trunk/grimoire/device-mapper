# Even with device mapper version 1.02.25
# lilo 22.8 can not write boot sectors to a mapped device name.

   VERSION=( 1.02.25 1.01.05 1.01.04 1.01.03 1.01.02 1.01.01 1.01.00 )
    IGNORE='^1\.02\.00'
# 1.02.00 is developmental
# Must check download directory to discover what is stable

# device-mapper now installs libraries into /lib or /lib64
# because /sbin/lilo requires device-mapper libraries.
# While /sbin/lilo is not usually run at boot time a SA might run it.

# device-mapper has no init script because the rules
# provided with udev handle the creation of the device-mapper
# character node /dev/mapper/control

  CATEGORY='disk'
 ATTRIBUTE='console'
    SOURCE="device-mapper.$VERSION.tgz"
  HOMEPAGE='http://sources.redhat.com/dm/'
       URL='ftp://sources.redhat.com/pub/dm/'
       REQ='libselinux'
      OPTS='--sbindir=/sbin --libdir=/lib'
  ESTIMATE='220'
      DESC='device-mapper provides tools and library for using the kernel device-mapper.
The Device-mapper is a new component of the linux
kernel that supports logical volume management.
It is required by LVM2 and EVMS.
The original LVM (included in stock 2.4 kernels) does not use it.'


build(){
 case $VERSION in
  1.01.05) sed -i 's:-lselinux:-lselinux -lsepol:' configure* ;;
 esac

 if   [ $HOSTTYPE == x86_64 ]
 then OPTS+=64
 fi

 default_build
}

current(){
 case  $VERSION  in
  1.01.05) [ -f /etc/init.d/dm-mod ] ;;
 esac
}
