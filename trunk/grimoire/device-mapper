# Even with device mapper version 1.02.25
# lilo 22.8 can not write boot sectors to a mapped device name.

   VERSION=( 1.02.26 1.02.25 1.01.05 )
    IGNORE='^1\.02\.00'
  CATEGORY='disk'
 ATTRIBUTE='console'
    SOURCE="device-mapper.$VERSION.tgz"
  HOMEPAGE='http://sources.redhat.com/dm/'
       URL='ftp://sources.redhat.com/pub/dm/'
       REQ='libselinux'
      OPTS='--sbindir=/sbin --libdir=/lib'
  ESTIMATE='300'
      DESC='device-mapper provides tools and library for using the kernel device-mapper.
The Device-mapper is a new component of the linux
kernel that supports logical volume management.
It is required by LVM2 and EVMS.
The original LVM (included in stock 2.4 kernels) does not use it.

/etc/init.d/mapper
loads maps files in /etc/mapper/
into the device mapper
See manual page for dmsetup
for instructions and examples for device maps.'


build(){
 case $VERSION in
  1.01.05) sed -i 's:-lselinux:-lselinux -lsepol:' configure* ;;
 esac

 if   [ $HOSTTYPE == x86_64 ]
 then OPTS+=64
 fi

 default_build
}

current(){
 case  $VERSION  in
  1.01.05) grep -qs mdadm /etc/init.d/mapper ;;
 esac
}
