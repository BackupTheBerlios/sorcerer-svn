    stable 3.0.4 3.0.3 3.0.2 3.0.1 3.0.0
   require libelf libselinux mail-transport-agent
  optional Linux-PAM --with-pam=yes --with-pam=no for pluggable authentication
    ignore 'rc'
  category utility/time
 attribute console
       url 'ftp://ftp.seul.org/pub/fcron/
            http://fcron.free.fr/archives/'
    source fcron-$VERSION.src.tar.gz
  homepage http://fcron.free.fr/
  eprovide cron
      opts --with-answer-all=no
  estimate 400
      desc 'fcron is a superior periodic scheduler.
On two boxes fcron has failed to execute crons at specified times.
You may want to consider using mcron instead of fcron.
fcron is a periodical command scheduler which aims at replacing
vixie cron, so it implements most of its functionality.
It does not assume that your system is
running either all the time or regularly.
You can, for instance, tell fcron to execute
tasks every x hours y minutes of system uptime,
or to do a job only once in a specified interval of time.
You can also set a nice value to a job, run it
depending on the system load average, and much more.'

build(){
 install_etc(){
  install -vm 644 files/fcron.allow /etc
  install -vm 644 files/fcron.deny  /etc
 }

mkdir    -p -m 0755 /var/spool/fcron
groupadd -K GID_MIN=256 -K GID_MAX=511    fcron                           2>/dev/null
useradd  -K UID_MIN=256 -K UID_MAX=511 -g fcron -d /var/spool/fcron fcron 2>/dev/null

# if    spell_installed  Linux-PAM
# then  OPTS+=' --with-pam=yes'
# else  OPTS+=' --with-pam=no'
# fi

 EDITOR=`which $EDITOR 2>/dev/null`  ||
 EDITOR=`which nano`
  OPTS+=" --with-editor=$EDITOR"

 sed  -i  "s:-O2:$CFLAGS:" configure
 sed  -i  "s,next_file:,next_file:\
 ;,"  conf.c

 default_build &&
 install_etc
}
