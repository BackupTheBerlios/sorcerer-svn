    stable 1.0.1 1.0
  unstable 1.1.22 1.1.19 1.1.18 1.1.17 1.1.16 1.1.15 1.1.14
   require MesaLib alsa-lib audiofile bison flex fontforge glib libusb-compat ncurses
  optional cups          '' '' for printing
  optional esound        '' '' for output through enlightenment sound daemon
  optional lcms          '' '' for lcms color management engine
  optional libgphoto2    '' '' for input from digital cameras
  optional nas           '' '' for nas sound audio mixing support
  optional openldap      '' '' for authentication using LDAP
  optional openssl       '' '' for secure socket connectios
  optional sane-backends '' '' for scanning support
  category development/emulator
 attribute solo x11
       url $SOURCEFORGE_URL
    source wine/wine-$VERSION.tar.bz2
  homepage http://www.winehq.com
# has requirement on libusb now, not sure why or if optional.
      opts --enable-opengl --enable-static=no
    CFLAGS='-O3'
   LDFLAGS='-Wl,-O1'
  estimate 10000
 freshmeat wine
      desc 'wine runs some Windows 3.x and Windows 9x programs.
wine Is Not an Emulator.
It is an alternative implementation of the Windows 3.x and Win32 APIs.
Wine provides both a development toolkit (Winelib)
for porting legacy Windows sources to Unix and a
program loader, allowing unmodified Windows 3.1/95/NT
binaries to run under Intel Unixes.
Wine does not require Microsoft Windows, as it is a
completely alternative implementation consisting of
100% Microsoft-Free code, but it can optionally use
native system DLLs if they are available.

Important!
In order to install fonts for wine.
http://prdownloads.sourceforge.net/corefonts/arial32.exe?download
Download at least the above font file.
Run it using wine.
Otherwise you may see little squire or rectangle 
boxes for text where a character should be instead.'

build(){
 case $VERSION in
  1.0) patch -p0 < $SCRIPT_DIR/WINEFORCEMOUSEWARP.diff ;;
 esac

if [ -n "${SOURCE[1]}" ]; then
 case $HOSTTYPE in
   i*86) ln -s asm-i386   linux-libc-headers-2.6.12.0/include/asm ;;
  x*86*) ln -s asm-x86_64 linux-libc-headers-2.6.12.0/include/asm ;;
 esac
 export   CFLAGS+=' -I$BUILD_DIR/linux-libc-headers-2.6.12.0/include'
 export CXXFLAGS+=' -I$BUILD_DIR/linux-libc-headers-2.6.12.0/include'
fi

 # This test require too much RAM
 sed -i "s:\$(TESTSUBDIRS)::" dlls/Makefile.in
 sed -i "/winetest/d"     programs/Makefile.in

 unset LDFLAGS LTDL_LIBRARY_PATH LD_LIBRARY_PATH LD_RUN_PATH

 ./configure          \
 --prefix=/usr        \
 --sysconfdir=/etc    \
 --localstatedir=/var \
 $OPTS           &&
 make    depend  &&
 make            &&
 prepare_install &&
 make    install
}
