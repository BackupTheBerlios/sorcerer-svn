# Almost no software checks for nor expects Python 3.0
# the most stable latest version of gtk-vnc already failed to compile with Python 3.0
# postgresql 8.3.5 failed to compile with Python 3.0
# libxml2's libxml2.py is not installed when compiling with Python 3.0 installed

# gobject-introspection version 0.6.14's python scripts
# are not compatible with Python version 2.7

# The webpage suggests htat Python 2.7
# is a drop in replacement for Python 2.6.x
# It is NOT!

    stable 2.6.6 2.6.5 2.6.4 2.6 2.5.2
    secure 2.5.2
    latest 3.1.2 3.1.1 3.0.1 3.0
  unstable 2.7
   require bzip2 db gdbm expat gmp ncurses readline zlib
  optional openssl '' '' for secure socket connections
  optional sqlite  '' '' for sqlite support
# Commenting out optional on tk to avoid recursive requirement loop
# optional tk      '' '' to use tk for GUI and graphics
  category development/interpreter
 attribute console x11
    source http://www.python.org/ftp/python/$VERSION/ \
            ftp://ftp.python.org/pub/python/$VERSION/ \
           Python-$VERSION.tar.bz2
  homepage http://www.python.org
 freshmeat python
  estimate 5000
      desc 'interpreted, interactive, object-oriented programming language
It combines remarkable power with very
clear syntax, and is not difficult to learn.
It has modules, classes, exceptions, very
high level data types, and dynamic typing.
There are interfaces to many system calls
and libraries, as well as to various
windowing systems
(Tk, Mac, MFC, GTK+, Qt, wxWindows).
Newbuilt-in modules are easily written in C or C++.
Python is also usable as an extension language for
applications that need a programmable interface.'

build(){
# --libdir=/usr/lib64 causes problems with PyXML compilation
 case $HOSTTYPE in
  x86_64) OPTS+=' --libdir=/usr/lib' ;;
 esac
 unset LD_PRELOAD
 ./configure \
 --prefix=/usr \
 --enable-shared \
 --enable-ipv6 \
 $OPTS &&
 make install "OPT=$CFLAGS" "DESTDIR=$DESTDIR"
}

post_install(){
 ( export LC_ALL=C
   grep -r  "/usr/lib/python.../" $INSTALL_LOGS |
   grep -v ":/usr/lib/python${VERSION:0:3}/"    |
   cut  -d  : -f1       |
   sort -u  | basenames |
   grep -v   "^Python"  |
   pipe_queue "$CAST_QUEUE" com )
}
