#!/bin/bash

### BEGIN INIT INFO
# Provides: named
# Required-Start: $network capability run
# Required-Stop: $network
# Default-Start: 2 3 4 5
# Default-Stop: 0 1 6
# Short-Description: named provides name to IP address translation
# Description: named provides name to IP address translation
### END INIT INFO

. /lib/lsb/init-functions

JAIL=/var/chroot/bind
PIDF=$JAIL/var/run/named.pid
SERV=/usr/sbin/named
OPTS="-u bind -t $JAIL"
NAME=named

stop(){
 if   log_warning_msg "$NAME stopping"; rndc stop
 then log_success_msg "$NAME stopped"
 else log_failure_msg "$NAME not stopped"; status
 fi
}

reload(){ rndc reload; }

help(){
 echo "Usage: $0 {restart|try-restart|reload|force-reload|start|status|stop}" 1>&2
}

case $1 in
      restart)     restart ;;
  try-restart) try_restart ;;
       reload) reload      ;;
 force-reload) reload      ;;
        start) start       ;;
       status) status      ;;
         stop) stop        ;;
            *) help        ;;
esac
