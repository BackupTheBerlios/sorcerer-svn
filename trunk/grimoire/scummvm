    VERSION=( "0.8.2" "0.8.1" "0.8.0" "0.7.1" "0.7.0" )
     IGNORE="macosx\|morphos\|dreamcast\|tools\|2001\|palmos\|Pocket\|HandheldPC\|fw\|Windows\|win\|0\.8\.22"
   CATEGORY="game emulator"
  ATTRIBUTE="x11"
     SOURCE="scummvm/scummvm-$VERSION.tar.bz2"
        URL="$SOURCEFORGE_URL"
   HOMEPAGE="http://scummvm.sourceforge.net"
        REQ=( "SDL"
              "alsa-lib:::for Sound support"
              "libvorbis:::for OGG music support"
              "libmad:::for MP3 music support"
              "libmpeg2:::for cutscenes support"
              "flac:::for free lossless audio codec"
              "scummvm-fotaq:::for the game Flight Of The Amazon Queen"
              "scummvm-bass:::for the game Beneath A Steel Sky" )
   ESTIMATE="763"
  FRESHMEAT="scummvm"
       DESC="scummvm is a virtual machine for classic point-and-click adventure games.
It is designed to run:
Adventure Soft's Simon the Sorcerer 1 and 2;
Revolution's Beneath A Steel Sky;
Broken Sword 1 and Broken Sword 2;
Flight of the Amazon Queen;
and games based on LucasArts' SCUMM
(Script Creation Utility for Maniac Mansion) system."


build()  {
  ./configure  --disable-debug  $OPTS  &&
  make             &&
  prepare_install  &&
  install  -D  -s  -m 755  scummvm  /usr/games/scummvm
}


install_game()  {
  [  -d  $1  ]  ||  cd  ..
  [  -d  $1  ]                           &&
  chmod      0755  $1                    &&
  chmod  -R  0644  $1/*                  &&
  prepare_install                        &&
  mkdir  -p            /usr/share/games  &&
  cp     -rv       $1  /usr/share/games
}


case  $SPELL  in
  scummvm-*)  unset  VERSION  REQ
              VERSION=( "1.0" );  ESTIMATE="5"  ;;
esac
