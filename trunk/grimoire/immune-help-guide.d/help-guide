# Copyright Kyle Sallee 2011, 2013
# All rights reserved.
# For use with the distribution sorcerer only!
# Used by sourcing into the BASH environment.

cd(){
 local LA
 LA=${LC_ALL:-$LANG}
 LA=${LA:0:2}
 LA=${LA^^}

 builtin cd "$@" &&
 if   [ -f /var/lib/guide$PWD/$LA ]
 then cat  /var/lib/guide$PWD/$LA
 elif [ -f /var/lib/guide$PWD/C   ]
 then cat  /var/lib/guide$PWD/C
 fi
}

welcome_keep="
Welcome to the Sorcerer's keep.
The real root file system is mounted as /media/root/"

welcome_root="
Welcome System Administrator.
Sorcery is wielded primarily through two tools.
/usr/sbin/sorcery provides a menu driven  interface.
/usr/sbin/augur   provides a command line interface."

if   [[ -f /media/root/sbin/init ]]
then echo "$welcome_keep"
elif (( UID == 0 ))
then echo "$welcome_root"
fi

unset welcome_keep welcome_root
