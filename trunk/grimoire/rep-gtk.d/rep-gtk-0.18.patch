diff -r -U2 rep-gtk-0.18/gtk-compat.c rep-gtk-0.18/gtk-compat.c
--- rep-gtk-0.18/gtk-compat.c	2002-07-11 21:19:22.000000000 -0700
+++ rep-gtk-0.18/gtk-compat.c	2002-07-11 21:19:22.000000000 -0700
@@ -63,7 +63,8 @@
 }
 
+#if GTK_MAJOR_VERSION < 2 || (GTK_MAJOR_VERSION == 2 && GTK_MINOR_VERSION < 4)
 GtkWidget*
 gtk_radio_menu_item_new_with_label_from_widget (GtkRadioMenuItem *group,
-						gchar            *label)
+						const gchar      *label)
 {
   GSList *g = group? gtk_radio_menu_item_group (group) : NULL;
@@ -73,5 +74,5 @@
 GtkWidget*
 gtk_radio_menu_item_new_with_mnemonic_from_widget (GtkRadioMenuItem *group,
-						   gchar            *label)
+						   const gchar      *label)
 {
   GSList *g = group? gtk_radio_menu_item_group (group) : NULL;
@@ -85,4 +86,5 @@
   return gtk_radio_menu_item_new (g);
 }
+#endif /* < 2.4 */
 
 GtkWidget*
diff -r -U2 rep-gtk-0.18/rep-gtk.h rep-gtk-0.18/rep-gtk.h
--- rep-gtk-0.18/rep-gtk.h	2003-02-12 01:51:45.000000000 -0700
+++ rep-gtk-0.18/rep-gtk.h	2003-02-12 01:51:45.000000000 -0700
@@ -2,5 +2,5 @@
  * Copyright (C) 1999 John Harper <john@dcs.warwick.ac.uk>
  *
- * $Id$
+ * $Id$
  * 
  * This program is free software; you can redistribute it and/or modify
@@ -290,11 +290,14 @@
 			    repv position);
 
+#if GTK_MAJOR_VERSION < 2 || (GTK_MAJOR_VERSION == 2 && GTK_MINOR_VERSION < 4)
 GtkWidget*
 gtk_radio_menu_item_new_with_label_from_widget (GtkRadioMenuItem *group,
-						gchar            *label);
+						const gchar      *label);
 GtkWidget*
 gtk_radio_menu_item_new_with_mnemonic_from_widget (GtkRadioMenuItem *group,
-						   gchar            *label);
+						   const gchar      *label);
 GtkWidget* gtk_radio_menu_item_new_from_widget (GtkRadioMenuItem *group);
+#endif
+
 GtkWidget* gtk_pixmap_new_interp (char *file, GtkWidget *intended_parent);
 
