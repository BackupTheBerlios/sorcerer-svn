# might have a requirement on net-tools
# docs for compiling this
# http://techbase.kde.org/Getting_Started/Build/KDE4/LFS

# 6.1.5 not yet tested

   version stable 6.1.5
   require ImageMagick lcms2 libiodbc liblqr zlib
  optional openldap
  optional openssl
      opts --enable-static=no --disable-all-vads --without-internal-zlib --with-pthreads
#     opts --with-iodbc=/opt/libiodbc
  category db
 attribute console library makej multilib-dual
    source $SOURCEFORGE_URL virtuoso/virtuoso/$VERSION/virtuoso-opensource-$VERSION.tar.gz
      info good 20120711
      info last 20120316
      info home http://virtuoso.openlinksw.com/dataspace/dav/wiki/Main/
      desc 'object-relational SQL database'

build(){
 if   [[ $HOSTTYPE == x86_64 ]] && ! [[ $CFLAGS =~ -m32 ]]
 then export CFLAGS+=' -m64'
 fi

 case $VERSION in
  6.0.0) cp -v libsrc/zlib/zutil.h libsrc/Wi/ ;;
 #6.0.0) cp -v /usr/src/linux/include/linux/zutil.h libsrc/Wi/ ;;
 esac

 local  RATH="$PATH"
 local  PATH

 if   [[ $HOSTTYPE == x86_64 ]] && [[ $CFLAGS =~ -m32 ]]
 then export PATH=/opt/32bit/usr/bin:$RATH
 else export PATH=$RATH
 fi

 default_build
}
