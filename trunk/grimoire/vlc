# 0.8.6e has compile errors
   VERSION=( 0.8.6g 0.8.6f 0.8.6e 0.8.6d )
      SAFE=( 0.8.6g 0.8.6f 0.8.6e 0.8.6d )
  CATEGORY='video/dvd video/player'
 ATTRIBUTE='x11'
#   SOURCE="$VERSION/vlc-$VERSION.tar.bz2"
#      URL='http://www.videolan.org/pub/videolan/vlc/'
    SOURCE="$VERSION/vlc-$VERSION.tar.bz2"
       URL='http://download.videolan.org/pub/videolan/vlc/'
      VURL='http://www.videolan.org/vlc/download-sources.html'
  HOMEPAGE='http://www.videolan.org/'
#            'arts:--enable-arts::for aRts sound server support'
#            'aalib:--enable-aa::for aalib output support'
       REQ=( 'a52dec gtk+-v1.2 libXv libavc1394 libdvbpsi libnotify sysfsutils'
             'SDL_image::--disable-sdl:for SDL support'
             'alsa-lib:--enable-alsa::for alsa sound support'
             'avahi:::for publishing and discovering services on local network'
             'esound:--enable-esd::for Esound library support'
             'firefox:--enable-mozilla::to build a vlc-based browser plugin'
             'fribidi:--enable-fribidi:--disable-fribidi:for bidirectional unicode'
             'gnome-vfs:--enable-gnomevfs:--disable-gnomevfs:for gnomevfs access module'
             'libcddb:::for accessing data on access data on a CDDB server'
             'libdv:--enable-dv::for DV decoder support'
             'libdvdread::--disable-dvdread:for DVD decryption support'
             'libdvdnav::--disable-dvdnav:for DVD navigation support'
             'libdvdplay:--enable-dvdplay:--disable-dvdplay:for DVD menu navigation support (experimental)'
             'libid3tag:::for reading id3 tags on audio files'
             'libmatroska:--enable-mkv:--disable-mkv:for Matroska demux support'
             'libmpcdec:::for playing musepack encoded streams'
             'libmpeg2:--enable-libmpeg2:--disable-libmpeg2: for decoding MPEG-1 and MPEG-2 streams'
             'libupnp:--enable-upnp:--disable-upnp:for Intel UpnP SDK'
             'libvorbis:::for ogg/vorbis support'
             'libmad:::for a 24 bit capable mpeg3 decoder'
             'samba:::for supporting win32 clients'
             'speex:--enable-speex:--disable-speex:for voice quality audio codec'
             'svgalib:--enable-svgalib:--disable-svgalib:for SVGAlib support'
             'x264:--enable-x264:--disable-x264:for H264 encoding suport'
             ':--enable-v4l:--disable-v4l:for Video4Linux support' )
# vlc 0.8.6d does not compile with ffmpeg version 2008-01-13 installed
#            'ffmpeg:--enable-ffmpeg:--disable-ffmpeg:for WMA,SVQ 1,H263,H263i,MJPEG A/B and other ffmpeg codecs support'
OPTS+=' --disable-ffmpeg'

# vlc 0.8.6a has problems with wxWidgets 2.8.0
      OPTS+=' --disable-wxwindows'
#             'wxWidgets:--enable-wxwindows:--disable-wxwindows:for GUI' 
##            'wxGTK:--enable-wxwindows:--disable-wxwindows:for GUI' 


# changed to firefox...
#            'mozilla:--enable-mozilla::to build a vlc-based seamonkey plugin'


# not compatible with x264 snapshots
# OPTS+=' --disable-x264'

# libupnp 1.4.0 not compatibile with vlc 0.8.5
# OPTS+=' --disable-upnp'

# 0.7.2 and 0.7.1 have an unsual link error when it comes to libdvdnav
# Has new optional requirements on avahi samba sysfsutils libebml
# not sure why yet.
#     OPTS+=' --disable-libmpeg2  --disable-ffmpeg'
     OPTS+=' --enable-static=no'
case $VERSION in
 0.8.6e) USE_GCC=gcc-v4.2 ;;
esac
  ESTIMATE='6600'
      DESC='vlc is the videolan client multimedia player.
vlc the VideoLAN Client is an MPEG, MPEG2, VCD and DVD player.
It can play MPEG streams from a file, from a
network source, or directly from a VCD or DVD.
There is video support for X11/XVideo, GGI, SDL,
the Linux framebuffer device, DirectX, BeOS, and
QNX, audio support for OSS, Esound, ALSA, and
GNOME, GTK+, Qt and KDE interfaces.'

build(){
unset CFLAGS
unset CXXFLAGS
export LDFLAGS+=' -L/usr/lib/mozilla -Wl,-rpath,/usr/lib/mozilla'
default_build
}
