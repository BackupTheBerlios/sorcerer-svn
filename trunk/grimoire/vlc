   version stable 1.1.10 1.1.9 1.1.8 1.1.7 1.1.6
   version secure 1.1.8
case $VERSION in
 1.1.10)
      opts --disable-upnp ;;
 1.1.9)
      opts --disable-upnp ;;
 1.1.8)
      opts --disable-upnp ;;
 1.1.7)
      opts --disable-upnp ;;
 1.1.6)
      opts --disable-upnp ;;
 1.1.5)
      opts --disable-lua --disable-upnp --disable-postproc ;;
 1.1.4)
      opts --disable-lua --disable-upnp ;;
esac
   require a52dec libXv libavc1394 libdvbpsi libnotify libproxy libv4l sysfsutils
  optional SDL_image   ''                --disable-sdl      for SDL support
  optional alsa-lib    --enable-alsa     ''                 for alsa sound support
  optional avahi       ''                ''                 for publishing and discovering services on local network
  optional esound      --enable-esd      ''                 for Esound library support
  optional ffmpeg      --enable-avcodec  --disable-avcodec
# optional firefox     --enable-mozilla  ''                 to build a vlc-based browser plugin
  optional fluidsynth  --enable-fluidsynth --disable-fluidsynth for MIDI synthetiser
  optional fribidi     --enable-fribidi  --disable-fribidi  for bidirectional unicode
  optional gnome-vfs   --enable-gnomevfs --disable-gnomevfs for gnomevfs access module
  optional libcddb     ''                ''                 for accessing data on access data on a CDDB server
# optional libdv       --enable-dv       ''                 for DV decoder support
# optional libdvdread  ''                --disable-dvdread  for DVD decryption support
# optional libdvdnav   ''                --disable-dvdnav   for DVD navigation support
# optional libdvdplay  --enable-dvdplay  --disable-dvdplay  for DVD menu navigation support experimental
  optional libid3tag   ''                ''                 for reading id3 tags on audio files
  optional libmatroska --enable-mkv      --disable-mkv      for Matroska demux support
  optional libmpcdec   ''                ''                 for playing musepack encoded streams
  optional libmodplug  ''                ''                 for playing amiga mod music files
  optional libmpeg2    --enable-libmpeg2 --disable-libmpeg2 for decoding MPEG-1 and MPEG-2 streams
  optional libshout
  optional libtheora
# libupnp disabled while problematic
# optional libupnp     --enable-upnp     --disable-upnp     for Intel UpnP SDK
  optional libvorbis   ''                ''                 for ogg/vorbis support
  optional libmad      ''                --disable-mad      for a 24 bit capable mpeg3 decoder
  optional lua
  optional nas         ''                ''                 for audio output through a network audio server
  optional portaudio
  optional pulseaudio
  optional qt-everywhere-opensource '' '--disable-qt4 --disable-skins2' for skin support
  optional samba       ''                ''                 for supporting win32 clients
  optional speex       --enable-speex    --disable-speex    for voice quality audio codec
  optional taglib      --enable-taglib   --disable-taglib
  optional x264        --enable-x264     --disable-x264     for H264 encoding suport
# optional zvbi        --enable-zvbi     --disable-zvbi
    switch             --enable-v4l      --disable-v4l      for Video4Linux support
     opts --enable-static=no --disable-nls --disable-mozilla --disable-swscale
 category video/dvd video/player
 attribute kde4 library makej multilib-dual x11
    source http://download.videolan.org/pub/videolan/vlc/$VERSION/vlc-$VERSION.tar.bz2
      vurl http://www.videolan.org/vlc/download-sources.html
  homepage http://www.videolan.org/
      info last  20110606
      desc 'videolan client multimedia player
vlc the VideoLAN Client is an MPEG, MPEG2, VCD and DVD player.
It can play MPEG streams from a file, from a
network source, or directly from a VCD or DVD.
There is video support for X11/XVideo, GGI, SDL,
the Linux framebuffer device, DirectX, BeOS, and
QNX, audio support for OSS, Esound, ALSA, and
GNOME, GTK+, Qt and KDE interfaces.'

build(){ (
 if    [[ $HOSTTYPE == x86_64 ]]; then
  if   [[ $CFLAGS   =~ -m32   ]]
  then QT_PCP=/opt/kde4/i686/lib/pkgconfig; export QTDIR=/opt/kde4/i686; OPTS+=' --libdir=/usr/lib'; export LDFLAGS+=' -Wl,-rpath,/opt/kde4/i686/lib'
  else QT_PCP=/opt/kde4/lib64/pkgconfig;    export QTDIR=/opt/kde4; export LDFLAGS+=' -Wl,-rpath,/opt/kde4/lib64'
  fi
  else QT_PCP=/opt/kde4/lib/pkgconfig;      export QTDIR=/opt/kde4; export LDFLAGS+=' -Wl,-rpath,/opt/kde4/lib'
 fi

 if   [ -n "$PKG_CONFIG_PATH" ]
 then export PKG_CONFIG_PATH=$QT_PCP:$PKG_CONFIG_PATH
 else export PKG_CONFIG_PATH=$QT_PCP
 fi

 unset   CFLAGS
 unset CXXFLAGS
 export LDFLAGS+=' -L/usr/lib/mozilla -Wl,-rpath,/usr/lib/mozilla'

#echo "PKG_CONFIG_PATH=.$PKG_CONFIG_PATH."

 sed -i 's:hardcode_into_libs=yes:hardcode_into_libs=no:' configure
 ./configure \
  --sysconfdir=/etc \
  --localstatedir=/var \
  --prefix=/usr \
 $OPTS &&
 make V=1 &&
 make install DESTDIR=$DESTDIR
) }
