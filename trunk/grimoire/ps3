   version stable 0.3.0 0.1.0
   require SDL
  category utility
 attribute x11
    source http://user.tninet.se/~uhu537u/ps3-$VERSION.tar.bz2
      info home http://user.tninet.se/~uhu537u/
      desc 'OpenGL program for displaying process information
ps3 is an OpenGL program that displays memory size and
CPU activity for Linux processes as a 3D bar chart.
The display can be rotated and scaled interactively.'

build(){
sed -i -e "s:font/:/usr/share/ps3/font/:
           s:filename\[5\]:filename[20]:" png_textures.c

gcc ps3.c  process_status.c png_textures.c \
    -L/usr/X11R6/lib -lGL -lGLU -lpng $CFLAGS \
    -o ps3 $( sdl-config --cflags --libs ) &&
mkdir -p $DESTDIR/usr{bin,share/ps3} &&
mv      -v font $DESTDIR/usr/share/ps3/ &&
install -vm 755 -o root -g root ps3 $DESTDIR/usr/bin/
}
