diff -r -U2 Linux-PAM-1.0.4/modules/pam_access/pam_access.c Linux-PAM-1.0.4/modules/pam_access/pam_access.c
--- Linux-PAM-1.0.4/modules/pam_access/pam_access.c	2007-12-07 15:40:01.000000000 +0000
+++ Linux-PAM-1.0.4/modules/pam_access/pam_access.c	2007-12-07 15:40:01.000000000 +0000
@@ -42,5 +42,4 @@
 #include <ctype.h>
 #include <sys/utsname.h>
-#include <rpcsvc/ypclnt.h>
 #include <arpa/inet.h>
 #include <netdb.h>
diff -r -U2 Linux-PAM-1.0.4/modules/pam_unix/pam_unix_passwd.c Linux-PAM-1.0.4/modules/pam_unix/pam_unix_passwd.c
--- Linux-PAM-1.0.4/modules/pam_unix/pam_unix_passwd.c	2009-03-03 09:00:31.000000000 +0000
+++ Linux-PAM-1.0.4/modules/pam_unix/pam_unix_passwd.c	2009-03-03 09:00:31.000000000 +0000
@@ -56,6 +56,4 @@
 #include <sys/stat.h>
 #include <rpc/rpc.h>
-#include <rpcsvc/yp_prot.h>
-#include <rpcsvc/ypclnt.h>
 
 #include <signal.h>
diff -r -U2 Linux-PAM-1.0.4/modules/pam_unix/support.c Linux-PAM-1.0.4/modules/pam_unix/support.c
--- Linux-PAM-1.0.4/modules/pam_unix/support.c	2009-03-03 09:00:31.000000000 +0000
+++ Linux-PAM-1.0.4/modules/pam_unix/support.c	2009-03-03 09:00:31.000000000 +0000
@@ -20,5 +20,4 @@
 #include <syslog.h>
 #include <sys/resource.h>
-#include <rpcsvc/ypclnt.h>
 
 #include <security/_pam_macros.h>
@@ -264,4 +263,5 @@
 	}
 
+/*
 	if (!matched && nis) {
 		char *userinfo = NULL, *domain = NULL;
@@ -282,4 +282,5 @@
 		}
 	}
+*/
 
 	if (matched && (ret != NULL)) {
diff -r -U2 Linux-PAM-1.0.4/modules/pam_unix/yppasswd_xdr.c Linux-PAM-1.0.4/modules/pam_unix/yppasswd_xdr.c
--- Linux-PAM-1.0.4/modules/pam_unix/yppasswd_xdr.c	2005-07-20 09:46:19.000000000 +0000
+++ Linux-PAM-1.0.4/modules/pam_unix/yppasswd_xdr.c	2005-07-20 09:46:19.000000000 +0000
@@ -14,6 +14,4 @@
 
 #include <rpc/rpc.h>
-#include <rpcsvc/yp_prot.h>
-#include <rpcsvc/ypclnt.h>
 #include "yppasswd.h"
 
