diff -ur gtk+-2.10.6.orig/gtk/gtkinputdialog.c gtk+-2.10.6/gtk/gtkinputdialog.c
--- gtk+-2.10.6.orig/gtk/gtkinputdialog.c	2006-09-10 08:33:14.000000000 +0200
+++ gtk+-2.10.6/gtk/gtkinputdialog.c	2006-10-30 11:11:10.000000000 +0100
@@ -530,10 +530,12 @@
   GtkWidget *option_menu;
   GtkWidget *label;
   GtkWidget *viewport;
+  gboolean recreate = FALSE;
 
   /* remove all the old items */
   if (inputd->axis_list)
     {
+      recreate = TRUE;
       gtk_widget_hide (inputd->axis_list);	/* suppress resizes (or get warnings) */
       gtk_widget_destroy (inputd->axis_list);
     }
@@ -541,12 +543,22 @@
   gtk_table_set_row_spacings (GTK_TABLE (inputd->axis_list), 6);
   gtk_table_set_col_spacings (GTK_TABLE (inputd->axis_list), 12);
   
-  viewport = gtk_viewport_new (NULL, NULL);
-  gtk_container_add (GTK_CONTAINER (inputd->axis_listbox), viewport);
-  gtk_viewport_set_shadow_type (GTK_VIEWPORT (viewport), GTK_SHADOW_NONE);
-  gtk_widget_show (viewport);
-  gtk_container_add (GTK_CONTAINER (viewport), inputd->axis_list);
-  gtk_widget_show (inputd->axis_list);
+  if (recreate)
+    {
+      gtk_scrolled_window_add_with_viewport(
+              GTK_SCROLLED_WINDOW (inputd->axis_listbox),
+              inputd->axis_list);
+      gtk_widget_show (inputd->axis_list);
+    }
+  else
+    {
+      viewport = gtk_viewport_new (NULL, NULL);
+      gtk_container_add (GTK_CONTAINER (inputd->axis_listbox), viewport);
+      gtk_viewport_set_shadow_type (GTK_VIEWPORT (viewport), GTK_SHADOW_NONE);
+      gtk_widget_show (viewport);
+      gtk_container_add (GTK_CONTAINER (viewport), inputd->axis_list);
+      gtk_widget_show (inputd->axis_list);
+    }
 
   gtk_widget_realize (inputd->axis_list);
   gdk_window_set_background (inputd->axis_list->window,
@@ -678,12 +688,14 @@
   GtkWidget *button;
   GtkWidget *hbox;
   GtkWidget *viewport;
+  gboolean recreate = FALSE;
 
   char buffer[32];
   
   /* remove all the old items */
   if (inputd->keys_list)
     {
+      recreate = TRUE;
       gtk_widget_hide (inputd->keys_list);	/* suppress resizes (or get warnings) */
       gtk_widget_destroy (inputd->keys_list);
     }
@@ -692,12 +704,22 @@
   gtk_table_set_row_spacings (GTK_TABLE (inputd->keys_list), 6);
   gtk_table_set_col_spacings (GTK_TABLE (inputd->keys_list), 12);
   
-  viewport = gtk_viewport_new (NULL, NULL);
-  gtk_container_add (GTK_CONTAINER (inputd->keys_listbox), viewport);
-  gtk_viewport_set_shadow_type (GTK_VIEWPORT (viewport), GTK_SHADOW_NONE);
-  gtk_widget_show (viewport);
-  gtk_container_add (GTK_CONTAINER (viewport), inputd->keys_list);
-  gtk_widget_show (inputd->keys_list);
+  if (recreate)
+    {
+      gtk_scrolled_window_add_with_viewport(
+              GTK_SCROLLED_WINDOW (inputd->keys_listbox), 
+              inputd->keys_list);
+      gtk_widget_show (inputd->keys_list);
+    }
+  else
+    {
+      viewport = gtk_viewport_new (NULL, NULL);
+      gtk_container_add (GTK_CONTAINER (inputd->keys_listbox), viewport);
+      gtk_viewport_set_shadow_type (GTK_VIEWPORT (viewport), GTK_SHADOW_NONE);
+      gtk_widget_show (viewport);
+      gtk_container_add (GTK_CONTAINER (viewport), inputd->keys_list);
+      gtk_widget_show (inputd->keys_list);
+    }
 
   gtk_widget_realize (inputd->keys_list);
   gdk_window_set_background (inputd->keys_list->window,
