with version   stable 1.1
with base    autoconf
with also    --disable-static
with role    network/library
with trait   library makej
#trait multilib-concurrent
with source  http://www.infradead.org/~tgr/libnl/files/libnl-$VERSION.tar.gz
#   source http://downloads.openwrt.org/sources/libnl-$VERSION.tar.gz
with info    last 20120508
with info    home http://www.infradead.org/~tgr/libnl/
with clash   libnl2
with info    cite 'library for applications dealing with netlink sockets
The library provides an interface for raw netlink messaging
and various netlink family specific interfaces.'

build(){
 case $VERSION in
  1.*) sed -i '1i#include <limits.h>' include/netlink-local.h ;;
  1.0-pre8) sed -i '1i#include <limits.h>' include/netlink-local.h ;;
  2.0)   sed -i '1i#ifndef YY_BUF_SIZE
                 1i#define YY_BUF_SIZE 16384
                 1i#endif' lib/route/pktloc.c ;;
  3.2.9) sed -i '1i#ifndef YY_BUF_SIZE
                 1i#define YY_BUF_SIZE 16384
                 1i#endif' lib/route/pktloc.c ;;
  3.2.8) sed -i '1i#ifndef YY_BUF_SIZE
                 1i#define YY_BUF_SIZE 16384
                 1i#endif' lib/route/pktloc.c ;;
  3.2.7) sed -i '1i#ifndef YY_BUF_SIZE
                 1i#define YY_BUF_SIZE 16384
                 1i#endif' lib/route/pktloc.c ;;
 esac
 default_build &&
 case $VERSION in
  1.0-pre8) mkdir  -pvm 755 $DESTDIR/usr/include/linux
            install -vm 755 {,$DESTDIR/usr/}include/linux/ip_mp_alg.h ;;
 esac
}
