   VERSION=( "2.2.2" "2.2.1" "2.2.0" "2.1.28" "2.1.27" "2.1.26" )
  CATEGORY="utility time monitor"
 ATTRIBUTE="x11"
  HOMEPAGE="http://www.gkrellm.net"
       URL="http://web.wt.net/~billw/gkrellm"
       REQ="gettext gtk+"
       OPT="openssl:::for imap over ssl support"
 FRESHMEAT="gkrellm"
  ESTIMATE="87"
     SHORT="gkrellm is a stacked monitor program."
      LONG="
gkrellm is a gtk+ based stacked monitor program 
that charts SMP CPUs, disks, load, 
active net interfaces, and internet connections.
There are also builtin monitors for memory and swap, 
file systems with mount/umount feature, 
mailbox checking including POP3 and IMAP,clock/calendar, 
laptop battery, sensors (temperatures, voltages, and fans), 
and uptime.
It has LEDs for the net monitors and an 
on/off button and online timer for PPP.
There is a GUI popup for configuration, plugin extensions 
can be installed, and many themes are available.
It also features a client/server monitoring capability.
"


install_gkrellm()  {
  sed  -i  "s:/usr/local:/usr:"  Makefile

  make             &&
  prepare_install  &&
  make    install
}


install_plugin()  {
  sed  -i  "s:-O2:$CFLAGS:
            s:/usr/local:/usr:"  Makefile

   PD="/usr/lib/gkrellm2/plugins"
  NLS="enable_nls=1"
  PPD="PLUGIN_DIR=$PD"

  make             $NLS  $PPD  &&
  prepare_install              &&
  mkdir  -p        $PD         &&
  make    install  $NLS  $PPD
}


build()  {
  case  $SPELL  in
    gkrellm-*)  install_plugin   ;;
            *)  install_gkrellm  ;;
  esac
}


case  $SPELL  in
  gkrellm-*)  unset  OPT  LONG
              REQ="gkrellm";  ESTIMATE="7"  ;;
esac
