# Where is the 2.20.0 version comming from?

    stable 2.5.4-1 2.5.3 2.5.2.3
  category network/email
 attribute console
    source http://www.mml.org.ua/LIST/minimalist-$VERSION.tgz
  homepage http://www.mml.org.ua/
      desc 'minimalist is a mailing lists manager.
Although it is declared as minimalistic,
it has many features as his eldest brothers,
such as Majordomo and so on,
but in contrast to them it is very small,
fast, simple for setup and maintenance.'

build() {
files_install() {
# First, add the global entry in aliases
(
echo  '# minimalist global entry:'
echo  'minimalist:	"|/usr/sbin/minimalist.pl -d /etc/minimalist"'
echo  '#'
echo  '# sample mailing list:'
echo  'list-sample:	"|/usr/sbin/minimalist.pl -d /etc/minimalist list-sample"'
echo  'list-sample-owner:	owner@myhost.mydomain.myzone'
)  >  /etc/aliases.minimalist-sample

# Create config files directory
mkdir -p  /etc/minimalist

# Copy sample files
cp      ./sample/lists.lst /etc/minimalist/lists.lst-sample
cp  -R  ./sample/sample /etc/minimalist/
cp      ./minimalist.conf-sample /etc/minimalist/

# Copy the progam file...
cp    ./minimalist.pl  /usr/sbin

# Make spool dir
mkdir -p  /var/spool/minimalist
mkdir -p  /var/spool/minimalist/list-sample
echo      "user@domain.zone"  >  /var/spool/minimalist/list-sample/list
chown     nobody.nogroup         /var/spool/minimalist/list-sample
chown     nobody.nogroup         /var/spool/minimalist/list-sample/list

# Copy the help files
mkdir  -p          /usr/doc/minimalist
cp     -R  ./docs  /usr/doc/minimalist
}

prepare_install  &&
  files_install
}

post_install() {
echo "Don't forget to read docs when using postfix (!)"
echo "Don't forget to run newaliases after editing /etc/aliases... ;)"
}
