#!/bin/bash

### BEGIN INIT INFO
# Provides: sshd
# Required-Start: $network empty run
# Required-Stop:  $network
# Default-Start: 2 3 4 5
# Default-Stop: 0 1 6
# Short-Description: sshd provides server for secure encrypted remote logins.
# Description: sshd provides server for secure encrypted remote logins.
### END INIT INFO

. /lib/lsb/init-functions

PIDF=/var/run/sshd.pid
SERV=/usr/sbin/sshd
NAME=sshd

reload() {
 if   status &&       PIDS="$( pidofproc -p $PIDF $SERV )"  &&
      [ -n          "$PIDS" ]
 then kill -s SIGHUP $PIDS &&
      log_success_msg "$NAME configuration reloaded"
 fi
}

help() {
 echo"Usage: $0 {start|stop|status|restart|try-restart|reload|force-reload}" 1>&2
}

case $1 in
        start)        start ;;
      restart)      restart ;;
  try-restart)  try_restart ;;
         stop)  stop   ;;
       status)  status ;;
       reload)  reload ;;
 force-reload)  reload ;;
            *)  help   ;;
esac
