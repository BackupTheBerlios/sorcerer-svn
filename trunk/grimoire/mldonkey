   VERSION=( "2.5.30.17" "2.5.30.16" "2.5.30.15" "2.5.30.14" "2.5.30.13" "2.5.30.12" "2.5.30.9" "2.5.30.8" "2.5.30.7" "2.5.30.6"  )
    IGNORE="static\|shared\|s$"
  CATEGORY="file-share"
 ATTRIBUTE="console x11"
    SOURCE="mldonkey-$VERSION.tar.bz2"
       URL="http://savannah.nongnu.org/download/mldonkey"
  HOMEPAGE="http://www.nongnu.org/mldonkey"
       REQ=( "ocaml"
             "gd::--disable-gd:to generate bandwidth-usage graphic in the web-ui"
             "lablgtk-v1.2::--disable-gui:for a GUI"
             ":--enable-pthread::to enable the use of pthreads" )
  ESTIMATE="496"
      DESC="mldonkey is a multi-network file sharing client.
mldonkey is a Linux client for the eDonkey network,
built from a reverse-engineered version of the protocol.
Now, it is also able to connect to multiple networks
(gnutella, Direct-Connect, Soulseek, etc).
It runs as a daemon, in the background, that can
run, downloading and sharing files, 24 hours a day.
You can interact with your mldonkey daemon, either locally
or remotely, by a telnet interface, a WEB interface or a GTK GUI.
Other GUIs have also been created for mldonkey."


build() {
# OCAML=$(  installed_version  $(  get_provider  ocaml  )  )
# export  CFLAGS="$CFLAGS -lpthread"
# export  CXXFLAGS="$CXXFLAGS -lpthread"
# export  LDFLAGS="$LDFLAGS -lpthread"

#            --enable-ocamlver=$OCAML    \
./configure  --prefix=/usr               \
             --sysconfdir=/etc/mldonkey  \
             --localstatedir=/var        \
             $OPTS                       &&
make    depend                           &&
make                                     &&
prepare_install                          &&
make    install
}
