# gambas2 requires some header files from poppler
# that poppler does not normally install.
# Rather than fix this we shall wait until further releases
# of gambas2 to see if the software authors fix their oversight.

    stable 2.8.1 2.8.0
   require kdelibs-v3 libffi
  optional SDL_mixer  --enable-sdl        --disable-sdl        for SDL support
  optional curl       '--enable-curl --enable-net' '--disable-curl --disable-net' for curl networking componenets
  optional mysql      --enable-mysql      --disable-mysql      for database support
  optional postgresql --enable-postgresql --disable-postgresql for database support
  optional sqlite     --enable-sqlite     --disable-sqlite     for database support
  optional libxslt    --enable-xlst       --disable-xlst       for the XML components
  PVERSION=( 0.7.1 )
  category development
 attribute kde3 new
 attribute broke
       url $SOURCEFORGE_URL
    source gambas/gambas2-$VERSION.tar.bz2
    source http://poppler.freedesktop.org/poppler-$PVERSION.tar.gz
  homepage http://gambas.sourceforge.net/
      opts --prefix=/opt/kde3 --with-qt-dir=/opt/kde3 --disable-debug --enable-final
  estimate 4540
  eprovide gambas
      desc 'gambas2 is a graphical development environment.
It is similar to the Visual Basic IDE.
It uses the Qt toolkit, but is able to use any
other toolkit that a module is written for.'

build_old(){
# The exports do not work
# because gambas2 source ignores CFLAGS and CXXFLAGS
 export   CFLAGS+=" -I$PWD/poppler-$PVERSION"
 export CXXFLAGS+=" -I$PWD/poppler-$PVERSION"
 default_build
}
