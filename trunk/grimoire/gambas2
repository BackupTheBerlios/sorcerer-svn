# gambas2 requires some header files from poppler
# that poppler does not normally install.
# Rather than fix this we shall wait until further releases
# of gambas2 to see if the software authors fix their oversight.
  stable 2.7.0 2.6.0 2.5.0 2.4.1 2.4.0 2.3.0 2.2.1 2.1.0 2.0.0
  PVERSION=( 0.7.1 )
  CATEGORY='development'
#ATTRIBUTE='kde3 new'
 ATTRIBUTE='kde3 broke new'
    SOURCE=( "gambas/gambas2-$VERSION.tar.bz2"
             "poppler-$PVERSION.tar.gz" )
       URL=( "$SOURCEFORGE_URL"
             "http://poppler.freedesktop.org/" )
  HOMEPAGE='http://gambas.sourceforge.net/'
       REQ=( 'kdelibs-v3 libffi'
             'SDL_mixer:--enable-sdl:--disable-sdl:for SDL support'
             'curl:--enable-curl --enable-net:--disable-curl --disable-net:for curl networking componenets'
             'mysql:--enable-mysql:--disable-mysql:for database support'
             'postgresql:--enable-postgresql:--disable-postgresql:for database support'
             'sqlite:--enable-sqlite:--disable-sqlite:for database support'
             'libxslt:--enable-xlst:--disable-xlst:for the XML components' )
      OPTS='--prefix=/opt/kde3 --with-qt-dir=/opt/kde3 --disable-debug --enable-final'
  ESTIMATE='4540'
  EPROVIDE='gambas'
      DESC='gambas2 is a graphical development environment.
It is similar to the Visual Basic IDE.
It uses the Qt toolkit, but is able to use any
other toolkit that a module is written for.'

build(){
# The exports do not work
# because gambas2 source ignores CFLAGS and CXXFLAGS
 export   CFLAGS+=" -I$PWD/poppler-$PVERSION"
 export CXXFLAGS+=" -I$PWD/poppler-$PVERSION"
 default_build
}
