# Their instructions in the INSTALL file
# fails to compile and install sflphone.

# Requires pjproject, although the library is included in the sflphone.
# pjproject library has already been shown to do damage to a box by
# replacing headers that it does not own, especially:
# glibc owned /usr/include/err.h
# Therefore, I might decide to not support sflphone,
# because it requires a dangerous library.

# Update source when updating stable
# does not seem to be downloading.

# Version 1.0.1 is available yet not tested.
# Version 1.0.2 tested and it does not compile.

   version stable 1.0.2 0.9.13 0.9.12 0.9.8.4 0.9.7
   require ccrtp gtk+ libeXosip2 libsamplerate
  category network/telephone
 attribute gnome
 attribute broke
#   source https://projects.savoirfairelinux.com/attachments/download/2865/sflphone-$VERSION.tar.gz
      info last 20120218
      info mail http://lists.savoirfairelinux.net/mailman/listinfo/sflphone
      info home http://www.sflphone.org/
      vurl http://www.sflphone.org/download.php
      desc 'VoIP phone
It currently supports the SIP protocol,
G711 codecs, and has some nice features.
It mostly targets businesses, public administrations,
and call centers,
as its goal is to mimic
an enterprise desktop phone
(multiple calls, hold, call switching,
conference, voicemail support, etc.).

Due to the odd method for providing the source tarball
download by leech might not achieve success.'

build(){
 cd daemon/libs/pjproject &&
                 ./configure && make dep && make &&
 cd ../..     && ./autogen.sh --prefix=/usr && make && make install DESTDIR=$DESTDIR &&
 cd ../gnome  && ./autogen.sh --prefix=/usr && make && make install DESTDIR=$DESTDIR
}
