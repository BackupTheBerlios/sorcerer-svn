# Their instructions in the INSTALL file
# fails to compile and install sflphone.

# Requires pjproject, although the library is included in the sflphone.
# pjproject library has already been shown to do damage to a box by
# replacing headers that it does not own, especially:
# glibc owned /usr/include/err.h
# Therefore, I might decide to not support sflphone,
# because it requires a dangerous library.

# Update source when updating stable
# does not seem to be downloading.

   version stable 0.9.13 0.9.12 0.9.8.4 0.9.7
   require ccrtp gtk+ libeXosip2 libsamplerate
  category network/telephone
 attribute gnome
 attribute broke
#   source https://projects.savoirfairelinux.com/attachments/download/1977/sflphone-$VERSION.tar.gz
      info home  http://www.sflphone.org/
      vurl http://www.sflphone.org/download.php
      info mail  http://lists.savoirfairelinux.net/mailman/listinfo/sflphone
      desc 'VoIP phone
It currently supports the SIP protocol,
G711 codecs, and has some nice features.
It mostly targets businesses, public administrations,
and call centers,
as its goal is to mimic
an enterprise desktop phone
(multiple calls, hold, call switching,
conference, voicemail support, etc.).'

build(){
 cd sflphone-common/libs/pjproject &&
 ./autogen.sh &&
 ./configure &&
 make dep && make &&
 cd ../.. &&
 ./autogen.sh --prefix=/usr &&
 make &&
 make install DESTDIR=$DESTDIR &&
 cd .. &&
 cd sflphone-client-gnome &&
 ./autogen.sh --prefix=/usr $OPTS &&
 make &&
 make install DESTDIR=$DESTDIR
}
