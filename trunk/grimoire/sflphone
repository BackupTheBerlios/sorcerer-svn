# Requires pjproject, although the library is included in the sflphone.
# pjproject library has already been shown to do damage to a box by
# replacing headers that it does not own, especially:
# glibc owned /usr/include/err.h
# Therefore, I might decide to not support sflphone,
# because it requires a dangerous lbirary.

    stable 0.9.5 0.9.4 0.7.2 0.7.0
   require ccrtp libeXosip2 libsamplerate pa_snapshot_v19 pjproject qt-x11-free
  category network/telephone
 attribute kde3 broke
    source http://projects.savoirfairelinux.net/attachments/download/237/sflphone-$VERSION.tar.gz
#   source http://projects.savoirfairelinux.net/attachments/download/130/sflphone-$VERSION.tar.gz
  homepage http://www.sflphone.org/
      vurl http://www.sflphone.org/download.php
      opts --prefix=/opt/kde3 --with-qt-dir=/opt/kde3 --disable-debug --enable-final
  estimate 1200
      desc 'sflphone is a VoIP phone.
It currently supports the SIP protocol,
G711 codecs, and has some nice features.
It mostly targets businesses, public administrations,
and call centers,
as its goal is to mimic
an enterprise desktop phone
(multiple calls, hold, call switching,
conference, voicemail support, etc.).'

build(){
export   CFLAGS+=' -I/opt/portaudio/include'
export CXXFLAGS+=' -I/opt/portaudio/include'
export  LDFLAGS+=' -Wl,-rpath,/opt/portaudio/lib -L/opt/portaudio/lib'
export     QTDIR=/opt/kde3
default_build
}
