   VERSION=( "0.6.14" "0.6.13" "0.6.12" "0.6.11" "0.6.10" )
      SAFE=( "0.6.14" "0.6.13" "0.6.12" )
# maybe write init script for avahi-autoipd introduced in 0.6.14
  CATEGORY="utility"
 ATTRIBUTE="library"
    SOURCE="avahi-$VERSION.tar.gz"
       URL="http://avahi.org/download/"
  HOMEPAGE="http://avahi.org/"
       REQ=( "dbus glib libcap libdaemon libglade"
             "gtk+::--disable-gtk:for gtk+ integration"
             "qt-x11-free::--disable-qt3:for Qt3 mainloop integration"
             "qt-x11-opensource-desktop::--disable-qt4:for Qt4Core mainloop integration" )
      OPTS="--with-distro=none --disable-mono --disable-python"
  ESTIMATE="1890"
      DESC="avahi is a library and daemon for Multicast DNS Service Discovery.
It may also be called zeroconf.
It allows programs to publish and discover services
running on a local network with no specific configuration.
For example, you can plug into a network and instantly
find printers to print to, files to look at, and people to talk to."

build()  {
# Due to the odd way Sorcerer configures and installs qt-x11-free
# avahi reads it's pkgconfig file and expects qt's executables to
# be located in /usr/share/qt/bin/
# So qt3 integration is temporarily disabled in this spell.
  OPTS="$OPTS --disable-qt3"

mkdir    -p -m 0755 /var/empty
groupadd -K GID_MIN=512 -K GID_MAX=999    avahi                     2>/dev/null
useradd  -K UID_MIN=512 -K UID_MAX=999 -g avahi -d /var/empty avahi 2>/dev/null

default_build
}
