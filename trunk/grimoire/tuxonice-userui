# Requires libmng, libpng, jpeg, zlib
# to be compiled with --enable-static=yes

# 0.7.1 and newer requires usplash which appears to not have it's own website
# and is developed either within ubuntu or debian.
# http://ftp.debian.org/debian/pool/main/u/usplash/usplash_0.4-43.orig.tar.gz
# if you want a source tarball for it.
# The usplash module is therefore disabled at this moment.

# actually requires libmng and
# will not compile now that libmng does not compile.

# URL seems correct, but does not download
# might not compile or be useable without a patched linux source.

# usplash no longer available for download
# tuxonice-userui might not download although the URL seems correct.

   version stable 1.1 1.0
# Commented out requirements since limng spell no longer exists
#  require freetype lcms libpng libmng
  category utility
 attribute console hidden
 attribute broke
    source http://tuxonice.net/files/tuxonice-userui-$VERSION.tar.gz
      info home http://tuxonice.net
      info vurl http://tuxonice.net
      info omit 20130211
      info last 20120211
  eprovide suspend2-userui
      desc 'userspace user interface to software suspend 2
Having TuxOnIce-UserUI allows interaction
with the suspend process as it happens.
Pressing escape cancels a suspend.
Pressing R toggles rebooting at the end of suspending.
Verbosity level can be adjusted, etc...
see what is going on, etc.

There currently exists two user interfaces for Software Suspend 2:
* suspend2ui_text - this provides a text-based progress 
  bar, mimicking the original familiar user interface 
  of Software Suspend 2.

* suspend2ui_fbsplash - based on fbsplash (note the 
  fbsplash kernel patch is NOT required), this provides 
  a graphical themeable progress bar. Painting a progress 
  bar whilst suspending to disk actually requires a fair 
  bit of CPU grunt, and is not recommended for machines 
  slower than about 700-900MHz.
  Otherwise, the speed of suspending is notably reduced.'

build(){

sed -i 's:-static $(CORE_OBJECTS):$(CORE_OBJECTS):
        s:/usr/local:/usr:' Makefile

#make tuxoniceui_text &&
make     all &&
make install DESTDIR=$DESTDIR
}
