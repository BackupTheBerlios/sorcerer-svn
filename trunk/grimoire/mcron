   version stable 1.0.6 1.0.4 1.0.3 1.0.1 1.0.0
   require ed guile-v1.8 init-functions mail-transport-agent
  category utility/time
 attribute console
    source $GNU_URL mcron/mcron-$VERSION.tar.gz
      info home http://www.gnu.org/software/mcron
  eprovide cron
      desc '100% compatible Vixie cron replacement
mcron is a 100% compatible Vixie cron replacement implemented using guile.
It accepts traditional crontabs and configuration files written in Scheme.

To enable cronjobs execute:
mkdir -p /var/cron/tabs'

build(){
 local  TERM=dumb
 export TERM
 local  G=/opt/guile/1.8
 export PATH="$G/bin:$PATH"

 if   [[ $HOSTTYPE == x86_64 ]] && ! [[ $CFLAGS =~ -m32 ]]
 then export LDFLAGS+=" -Wl,-rpath-link,$G/lib64 -Wl,-rpath,$G/lib64"
 else export LDFLAGS+=" -Wl,-rpath-link,$G/lib -Wl,-rpath,$G/lib"
 fi

 sed -i "s:\$HEAD -1:\$HEAD -n 1:" configure
 default_build &&
 mkdir -p $DESTDIR/{usr/sbin,var/spool/cron} &&
 mv $DESTDIR/usr/bin/cron $DESTDIR/usr/sbin/cron
}
