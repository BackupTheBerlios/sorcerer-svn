  stable             2.18
unstable 2.18.50.0.7 2.18
  CATEGORY='development'
 ATTRIBUTE='console solo'
    SOURCE="binutils/binutils-$VERSION.tar.bz2"
  HOMEPAGE='http://sources.redhat.com/binutils'
       URL="$GNU_URL
            http://www.kernel.org/pub/linux/devel/"
   PROTECT='/usr/bin/as
            /usr/bin/ld
            /usr/bin/ranlib'
# sysroot option given so that binutils supports sysroot parameter.
      OPTS='--with-sysroot=/ --enable-shared --disable-static'
    CFLAGS='-O3'
   LDFLAGS='-Wl,-O1'
  ESTIMATE='2720'
      DESC="binutils is an essential collection of binary utilities.

binutils - Collection of binary utilities
ld		-the GNU linker
as		-the portable GNU assembler
ar		-creates, modifies, and extracts from archives
nm		-lists symbols from object files
objcopy		-copies and translates object files
objdump		-displays information from object files
ranlib		-indexes the contents of an archive
size		-lists the section sizes of an object or archive file
strings		-lists printable strings from files
strip		-discards symbols
c++filt		-filter to demangle encoded C++ symbols
addr2line	-converts addresses to file and line
nlmconv		-converts object code into an NLM"


build(){
 export   CFLAGS="${CFLAGS/-fomit-frame-pointer/}"
 export CXXFLAGS="${CXXFLAGS/-fomit-frame-pointer/}"

 TD="tooldir=/usr"
 LDF="LDFLAGS=$LDFLAGS"

# --host=$BUILD             \
 ./configure                \
 --prefix=/usr              \
 $OPTS                      &&
 make          "$LDF"  $TD  &&
 prepare_install            &&
 make    install       $TD
# Evert Vorster suggests the following is unnecessary
# and breaks compilation in some instances.
# &&
# make    install-info  $TD
}
