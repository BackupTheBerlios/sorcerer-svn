#!/bin/bash

### BEGIN INIT INFO
# Provides: $network
# Required-Start: hostname loopback
# Required-Stop: $local_fs
# Should-Start: udev udevsettle modprobe
# Default-Start: S
# Default-Stop: 0 1 6
# Short-Description: networks raises and lowers network connections
# Description: networks raises and lowers network connections
### END INIT INFO

. /lib/lsb/init-functions

# Please do not modify this file.
# Modify files located in    /etc/networks.d/
# Templates are in           /etc/networks.d/templates/
# If unfamiliar please read  /etc/networks.d/templates/README

# If the networking should not start during boot then execute:
# cast -r networks

NETWORKS=/etc/networks.d

start(){
 log_warning_msg "networking starting"
 for    file in $NETWORKS/*; do
  [ -f $file ]     &&
  bash $file start &&
  break
 done &&
 log_success_msg "networking started" ||
 log_failure_msg "networking not started"
}


stop(){
 log_warning_msg "networking stopping"
 for   file in $NETWORKS/*; do
 [ -f $file ] &&
 bash $file stop
 done
 log_success_msg "networking has stopped"
}

case $1 in
 start) start ;;
 stop) stop ;;
 restart) stop; sleep 3; start ;;
 *) echo "Usage: $0 {start|stop|restart}" ;;
esac
