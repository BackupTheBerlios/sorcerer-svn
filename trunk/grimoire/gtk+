# Starting with gtk+ version 2.14.1 gtk+ may have a recursive
# requirement with gail

# 2.18.8 has a bug that causes firefox to segmentation fault while starting.
# do not install 2.20.0 it is developmental

# gtk+ with version 2.22.0
# Requested 'glib-2.0 >= 2.25.10' but version of GLib is 2.24.2

    stable 2.20.1 2.20.0 2.18.9
  unstable 2.22.0 2.21.8
   require atk jasper libXcomposite libXcursor libXdamage libXinerama libXrandr pango tiff
  optional cups '' '' for optional cups print backend
      opts --disable-gtk-doc --with-xinput=yes
  category graphic/library
 attribute library gnome
    source $GNOME_URL sources/gtk+/${VERSION:0:4}/gtk+-$VERSION.tar.bz2
  homepage http://www.gtk.org
# Xinput is needed for tablets and other extended input devices 
      opts --with-xinput=yes
# Can not add cups optional requirement which exists at this time
# To avoid circuliar requirement loop with cups dbus gtk+
# dbus's optional requirement on gtk+ was dropped
  estimate 5000
   protect /etc/gtk-2.0/gtk.immodules
 freshmeat gtk
      desc 'toolkit for creating GUIs'

build(){
 sed -i 's:demos tests::' Makefile.in
 default_build
}

post_install(){
 default_post_install
 echo gdk-pixbuf-query-loaders | pipe_queue $CAST_QUEUE com
 echo gtk-query-immodules-2.0  | pipe_queue $CAST_QUEUE com
}
