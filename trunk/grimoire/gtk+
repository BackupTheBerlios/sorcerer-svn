COMPACT="on"
   VERSION=( "2.10.7" "2.10.6" "2.10.5" "2.10.4" "2.10.3" "2.10.2" "2.10.1" "2.10.0" )
    IGNORE="^2\.11\."
  CATEGORY="graphic"
 ATTRIBUTE="library x11"
    SOURCE="sources/gtk+/${VERSION%.*}/gtk+-$VERSION.tar.bz2"
       URL="$GNOME_URL"
  HOMEPAGE="http://www.gtk.org"
       REQ=( "atk jpeg libXcursor libXinerama libXrandr libpng pango tiff"
             "cups:::for optional cups print backend" )
# Xinput is needed for tablets and other extended input devices 
      OPTS="--with-xinput=yes"
# Can not add cups optional requirement which exists at this time
# To avoid circuliar requirement loop with cups dbus gtk+
# dbus's optional requirement on gtk+ was dropped
  ESTIMATE="7260"
 FRESHMEAT="gtk"
      DESC="gtk+ is a toolkit for creating GUIs."

build()  {

build_old() {
  # using default_build now.
  # if installed with DESTDIR instead then
  # use gtk-query-immodules-2.0  to generate /etc/gtk-2.0/gtk.immodules
  # and gdk-pixbuf-query-loaders to generate /etc/gtk-2.0/gdk-pixbuf.loaders
  default_build
}

  uncustomize()  {
    if    [   -d   /etc.sav/gtk-2.0  ]
    then  rm  -fr  /etc.sav/gtk-2.0
    fi
  }

  case $VERSION in
   2.10.6) patch -p1 < $SCRIPT_DIR/gtkinputdialog-recreate.patch        ;;
  esac

  ./configure            \
  --build=$BUILD         \
  --prefix=/usr          \
  --sysconfdir=/etc      \
  --localstatedir=/var   \
  $OPTS                  &&
  make                   &&
  prepare_install        &&  uncustomize  &&
  make    install
}
