# patch added to 2.22.0 in order for gtkhtml 3.32.0 to compile

# Starting with gtk+ version 2.14.1 gtk+ may have a recursive
# requirement with gail

    stable 2.22.0 2.20.1 2.20.0
  unstable 2.91.0
   require atk gdk-pixbuf gobject-introspection jasper libXcomposite libXcursor libXdamage libXinerama libXrandr pango
  optional cups '' '' for optional cups print backend
      opts --disable-gtk-doc --with-xinput=yes
  category graphic/library
 attribute library gnome
    source $GNOME_URL sources/gtk+/${VERSION:0:4}/gtk+-$VERSION.tar.bz2
  homepage http://www.gtk.org
# Xinput is needed for tablets and other extended input devices 
      opts --with-xinput=yes
# Can not add cups optional requirement which exists at this time
# To avoid circuliar requirement loop with cups dbus gtk+
# dbus's optional requirement on gtk+ was dropped
  estimate 4200
   protect /etc/gtk-2.0/gtk.immodules
 freshmeat gtk

# Actually, gtk+ version 2.22.0 seems to provide gail.
 conflicts gail
      desc 'toolkit for creating GUIs'

build(){
 sed -i 's:demos tests::' Makefile.in
 default_build
}

post_install(){
 default_post_install
 echo gtk-query-immodules-2.0  | pipe_queue $CAST_QUEUE com
}
