(

  # sedit  "s:STMP_FIXINC=stmp-fixinc:STMP_FIXINC=:"        gcc/configure
  # sedit  "s:STMP_FIXPROTO=stmp-fixproto:STMP_FIXPROTO=:"  gcc/configure

  patch  -p1  <  $SCRIPT_DIR/gcc-3.2.patch

  ENABLE_LANGS="--enable-languages=${GCC_LANGUAGES:=c++}"

  export  LIBCFLAGS="$CFLAGS"
  export  LIBCXXFLAGS="$CXXFLAGS"

  ./configure  --host=$BUILD          \
               --prefix=/usr          \
               --enable-threads       \
               --enable-shared        \
               --enable-__cxa_atexit  \
               $ENABLE_LANGS    &&
  make  bootstrap-lean          &&
  prepare_install               &&
  make	  install  prefix=/usr  &&
  ln     -sf  gcc  /usr/bin/cc  &&
  ln     -sf       /usr/bin/cpp  /lib/cpp

) > $C_FIFO 2>&1  &&  (

  remove_header()  {
    ls  /usr/lib/gcc-lib/*  |
    directories             |
    while  read  DIR
    do     rm  -f  /usr/lib/gcc-lib/$DIR/$VERSION/include/$1
    done
  }

  remove_header   curses.h
  remove_header  ncurses.h
  true

)
