    stable 1.5.2
   require gcc-g++ perl
      opts --disable-doc-build --enable-static=no
  category documentation
 attribute console library makej multilib-dual
    source $SOURCEFORGE_URL openjade/opensp/$VERSION/OpenSP-$VERSION.tar.gz
      home http://openjade.sourceforge.net
  eprovide sp
  estimate 1300
      desc 'implementation of DSSSL SGML/XML'

build(){
 export LDFLAGS+=" $CFLAGS"
 make_symlinks(){
  ln -sf onsgmls   $DESTDIR/usr/bin/nsgmls
  ln -sf osgmlnorm $DESTDIR/usr/bin/sgmlnorm
  ln -sf ospam     $DESTDIR/usr/bin/spam
  ln -sf ospent    $DESTDIR/usr/bin/spent
  ln -sf osx       $DESTDIR/usr/bin/sx
  ln -sf osx       $DESTDIR/usr/bin/sgml2xml
}

 case $VERSION in
  1.5.1) sed -i '\,#include "types.h",i#include "constant.h"' include/RangeMap.cxx ;;
 esac

 ./configure \
 --prefix=/usr \
 $OPTS &&
 make &&
 make install DESTDIR=$DESTDIR &&
 make_symlinks
}
