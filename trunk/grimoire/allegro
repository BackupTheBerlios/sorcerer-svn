   VERSION=( "4.1.17" "4.1.16" "4.0.3" "4.0.2" )
# Yes 4.1.x are work in progress rather than stable releases.
# however 4.0.3 quit compiling:
# gcc -DHAVE_CONFIG_H -Iinclude -Iinclude/allegro -I./include -I./include/allegro -I.  -I/usr/X11R6/include  -DALLEGRO_LIB_BUILD -mcpu=pentium -Os -pipe -march=athlon-xp -funroll-loops -ffast-math -fomit-frame-pointer -Wall -Wno-unused -fPIC -DALLEGRO_SHARED -c ./src/linux/lmemory.c -o obj/unix/shared/alleg/lmemory.o`-mcpu=' is deprecated. Use `-mtune=' or '-march=' instead.
# ./src/linux/lmemory.c:27:2: #error "Sorry, mapped files are required for Linux console Allegro to work!
# --enable-fbcon=no gets around the problem.
# Still I will go ahead with 4.1.16 assuming no compatibility problems
# because the allegro homepage advertises backward compatibility with 
# allegro 4.0 and bug fixes.
    IGNORE="enduser\|msvc\|rc\|beta"
  CATEGORY="game"
 ATTRIBUTE="library x11"
    SOURCE="alleg/allegro-$VERSION.tar.gz"
  HOMEPAGE="http://alleg.sourceforge.net"
       URL="$SOURCEFORGE_URL"
       REQ=( ""
             "arts::--disable-artsdigi:to output through arts sound mixer"
             "esound::--disable-esddigi:to work output through enlightenment sound mixer"
             "svgalib::--disable-svgalib:for svgalib graphics output"
             "x11::-without-x:for x11 graphics output" )
      OPTS="--enable-fbcon=no"
  ESTIMATE="1612"
      DESC="allegro is a cross-platform game library.
allegro is a multi-platform game library that
provides many functions for graphics, sounds,
player input (keyboard, mouse, and joystick), and timers.
It also provides fixed and floating point mathematical
functions, 3D functions, file management functions,
compressed datafile, and a GUI."


build()  {
  sed  -i  "s/-O2/$CFLAGS/"  configure
  default_build
}
