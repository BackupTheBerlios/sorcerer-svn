   VERSION=( "v14" )
  CATEGORY="game"
 ATTRIBUTE="broken new x11"
# Compiles, but quits immediately upon running.
    SOURCE="supertransball2-sources-$VERSION.zip"
       URL="http://www.braingames.getput.com/stransball2"
  HOMEPAGE="http://www.braingames.getput.com/stransball2"
       REQ="SDL_mixer sge"
      OPTS="--bindir=/usr/games"
  ESTIMATE="45"
 FRESHMEAT="supertransball2"
     SHORT="supertransball2 is a thrust type game."


manual_install()  {
  mkdir    -p  /usr/man/man6  /usr/libexec  /usr/games  \
               /usr/share/games/supertransball2

  install  -m 0644  -D                 supertransball.6 /usr/man/man6/supertransball2.6
  install  -o root  -g games  -m 2755  supertransball2  /usr/libexec
  rm       *.h *.cpp  makefile *.6
  chown    -R  root:games  *
  cp       -a  *  /usr/share/games/supertransball2
  echo     -e  "#!/bin/bash\ncd  /usr/share/games/supertransball2\n/usr/libexec/supertransball2 \"\$@\""  >  /usr/games/supertransball2
  chmod    0755  /usr/games/supertransball2
}


build()  {
  [  -d  supertransball2-sources-*  ]  &&
  cd     supertransball2-sources-*
  ln   -s  List.h     list.h
  ln   -s  Tiles.h    tiles.h
  ln   -s  Tiles.cpp  tiles.cpp
  sed  -i  "s:SGE\.h:sge.h:"  transball.cpp
  unexpand   makefile  > Makefile  &&
  mv         Makefile    makefile
  CXXFLAGS="$CXXFLAGS  $(  sdl-config --cflags  )"
  make             &&
  prepare_install  &&
   manual_install
}
