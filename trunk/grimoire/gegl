# version 0.1.8 fails compilation

   version   stable 0.2.0 0.1.4
#  version unstable 0.1.8
#  require babl librsvg openexr
   require babl ffmpeg librsvg openexr
      opts --disable-docs --disable-gtk-doc --without-gtk
  category graphic/library
 attribute library makej multilib-concurrent setarch x11
    source   stable ftp://ftp.gtk.org/pub/gegl/${VERSION:0:3}/gegl-$VERSION.tar.bz2
    source unstable ftp://ftp.gtk.org/pub/gegl/${VERSION:0:3}/gegl-$VERSION.tar.bz2
      info last 20120510
      info home http://gegl.org/
      info docs 'http://gegl.org/#_documentation_2'
      desc 'generic graphics library
gegl provides a framework for graph based image processing.'

build(){
 case $VERSION in
  0.1.2) sed -i 's:external::' operations/Makefile.in ;;
 esac
 sed -i 's:hardcode_into_libs=yes:hardcode_into_libs=no:' configure

 # gegl's examples require gtk/gtk.h from either gtk+ or gtk+-3.0
 # therefore, disabling examples and tests.

 sed -i 's:examples tests::' Makefile.in

 default_build
}
