    stable 20080628
  category utility
 attribute archive_off library solo
  homepage http://sorcerer.silverice.org/
   protect /usr/libexec/sorcery/sentinel
  estimate 10
      desc 'sorcery-sentinel provides a file modification detection preloadable library

Casting spells installs and modifies previously installed files.
cast learns what files should belong to a spell
by looking at a log of the files installed and modified.
The raw install log for a spell is created by a preloadable
ELF library called sentinel.'

build(){
 unset LD_PRELOAD
 gcc $CFLAGS -D_GNU_SOURCE -DPIC -fPIC -D_REENTRANT \
     $LDFLAGS -lc -ldl -shared -nostartfiles \
     -o sentinel $SCRIPT_DIR/sentinel.c &&
 prepare_install && export     LD_PRELOAD=$PWD/sentinel &&
 mkdir  -pvm 755          /usr/libexec/sorcery &&
 install -vm 755 sentinel /usr/libexec/sorcery/sentinel
}
