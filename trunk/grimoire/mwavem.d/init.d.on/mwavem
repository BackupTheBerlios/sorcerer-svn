#!/bin/bash

### BEGIN INIT INFO
# Provides: mwavem
# Required-Start: $local_fs
# Should-Start: udev modprobe
# Required-Stop:  $local_fs
# Default-Start: 2 3 4 5
# Default-Stop: 0 6
# Short-Description: mwavem starts the winmodem
# Description: mwavem starts the winmodem
### END INIT INFO

. /lib/lsb/init-functions

SERV=/usr/sbin/mwavem
NAME=mwavem
OPTS=/etc/mwavem.conf

start() {
 run() {
  modprobe mwave
  start_daemon -n -20  $SERV $OPTS
 }

 if   log_warning_msg "$NAME starting"; run
 then log_success_msg "$NAME started"
 else log_failure_msg "$NAME not started"
 fi
}

parse
