# The apng patch does not cleanly apply.
# All 1.2.x releases after 1.2.40 are security fixes.
# 1.2.41 failed compilation

# 1.4.3 was a security release?
# 1.4.6 branch only receives security updates now.
# 1.5.10, 1.5.9 and 1.5.8 were security releases.

with version   stable 1.4.12 1.4.11 1.4.8
   version   secure 1.4.12 1.4.11
with base    zlib
with also    --enable-static=no
with also    --prefix=/opt/libpng/1.4.x
with role    graphic
with trait   library makej multilib-concurrent
with source  $SOURCEFORGE_URL libpng/libpng${VERSION:0:1}${VERSION:2:1}/$VERSION/libpng-$VERSION.tar.xz
with info    last 20120919
with info    home http://www.libpng.org/pub/png/libpng.html
with info    cite 'library that supports the PNG graphics format
libpng is the PNG library is a collection of routines
used to create and manipulate PNG format graphics files.
The PNG format was designed as a replacement for GIF
and to a lesser extent, TIFF, with many improvements and extensions.'

build(){
 rm -f CMakeLists.txt
 if   [[ $HOSTTYPE == x86_64 ]] && ! [[ $CFLAGS =~ -m32 ]]
 then with also --libdir=/opt/libpng/1.4.x/lib64
 fi
 default_build
}
