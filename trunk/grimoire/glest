# glest 3.2.1 is not compatible with wxWidgets 2.8.9
# and appears to require wxWidgets
# No successful compilation therefore spell enver fully checked

    stable 3.2.2 3.2.1
   require SDL autoconf jam libvorbis openal xerces-c
  category game
 attribute x11 new
# broke
       url $SOURCEFORGE_URL
    source glest/glest_source_$VERSION.zip
    source glest/glest_data_$VERSION.zip
  homepage http://glest.org
  estimate 500
      desc 'a free 3D real-time strategy game.
Armies of either the Tech or Magic factions do battle.
The Magic faction has mages and summoned creatures.
The Tech  faction has warriors and mechanical devices.'

build(){
custom_install(){
find glest_game         | xargs --max-lines=2048 chown root:root
find glest_game -type f | xargs --max-lines=2048 chmod 0644
find glest_game -type d | xargs --max-lines=2048 chmod 0755

install -vm 755 mk/linux/glest    /usr/libexec/ &&
install -vm 755 -d                /usr/share
cp      -va glest_game            /usr/share/
install -vm 644 glest.ini         /usr/share/glest_game
install -vm 755 $SCRIPT_DIR/glest /usr/bin
}

cd mk/linux
sh ./autogen.sh
./configure
jam &&
cd ../.. &&
custom_install
}
