   version stable 20110501 20110416 20100925
   require uniso
  category administration
 attribute profile
case $HOSTTYPE in
 x86_64)
    source http://sorcerer.silverice.org/download/iso9660/${VERSION:0:4}/sorcerer-x86_64-$VERSION.iso ;;
      *)
    source http://sorcerer.silverice.org/download/iso9660/${VERSION:0:4}/sorcerer-i686-SMP-$VERSION.iso ;;
esac
      desc "installs /boot/rescue extracted from sorcerer-${HOSTTYPE/i?86/ia32}-$VERSION.iso 

This spell downloads an Install/Rescue image.
Then it extracts the /boot from the ISO9660
and installs the provided linux kernel and initramfs
as  /boot/rescue
The /boot/rescue/initrf will not be updated
when normal initramfs images are.
Therefore, probably /boot/resuce/initrf would work
as good as booting from an I/R in the event that
the initramfs images become corrupted or an important
component such a udev is not functioning following an update"

build(){
isoinfo -l -R -i $SOURCE |
uniso      -R -i $SOURCE
mkdir -p $DESTDIR/boot/rescue
cp boot/*/{System.map,initrf,linux} $DESTDIR/boot/rescue/
[ -f $DESTDIR/boot/rescue/System.map ] &&
[ -f $DESTDIR/boot/rescue/initrf ] &&
[ -f $DESTDIR/boot/rescue/linux ]
}
