# Starting with cmake 2.6.0 it has it's own in source tree fork of curl
# and that requires openssl and libidn.
# Why should a make program require download capability?
# if version says something like 2.4.8-1   ignore ''the -1''

# cmake version 2.8.5's
# /usr/share/cmake-2.8/Modules/FindOpenSSL.cmake
# Does not properly detect the installed location of openssl's libraries
# on x86_64 multilib architecture
# when doing -m32 compilation
# However, cmake version 2.8.4 works fine for that.
# When testing cmake version > 2.8.5
# do a compile test on mysql to see if it passes or fails

   version stable 2.8.4 2.8.3 2.8.2 2.8.1
   version unstable 2.8.5
   require gcc-g++ libidn ncurses
#  use_gcc gcc-v4.1 
  optional openssl '' --without-ssl for ftps and https
  category development
 attribute console makej
    source http://www.cmake.org/files/v${VERSION:0:3}/cmake-$VERSION.tar.gz
      info last  20110710
      info home  http://www.cmake.org/
      info docs  http://www.cmake.org/cmake/help/documentation.html
      vurl http://www.cmake.org/cmake/resources/software.html
      desc 'software compilation and installation utility'

build(){
 ./configure \
  --sysconfdir=/etc \
  --localstatedir=/var \
  --prefix=/usr \
  $OPTS &&
 make   &&
 make install "DESTDIR=$DESTDIR"
}
