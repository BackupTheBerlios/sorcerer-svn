    stable 1.7.3.4
  unstable 1.7.6
  category security/encryption
 attribute console
    source  http://www.openwall.com/john/f/ \
            http://www.openwall.com/john/g/ \
            john-$VERSION.tar.bz2
      vurl http://www.openwall.com/john/
  homepage http://www.openwall.com/john/
  estimate 175
      desc 'fast password cracker
john the Ripper is a fast password cracker, currently available
for many flavors of Unix (11 are officially supported, not
counting different architectures), DOS, Win32, and BeOS.
Its primary purpose is to detect weak Unix passwords,
but a number of other hash types are supported as well.'

build(){

 make_install(){
  cd  ..
  chmod 755 {doc,run}
  chmod a+r {doc,run}/*
  mkdir -p            $DESTDIR/opt/john
  cp    -rv {doc,run} $DESTDIR/opt/john
 }

cd src

sed -i "s/-c -Wall -O2 -fomit-frame-pointer/-c -Wall $CFLAGS/" Makefile
sed -i "s/ -m486//" Makefile

make generic &&
make_install
}
