with version stable 1.7.9 1.7.8 1.7.3.4
with role    security/encryption
with trait   console
with source   http://www.openwall.com/john/f/ \
            http://www.openwall.com/john/g/ \
            john-$VERSION.tar.bz2
with info    vurl http://www.openwall.com/john/
with info    last 20111123
with info    home http://www.openwall.com/john/
with info    cite 'fast password cracker
john the Ripper is a fast password cracker, currently available
for many flavors of Unix (11 are officially supported, not
counting different architectures), DOS, Win32, and BeOS.
Its primary purpose is to detect weak Unix passwords,
but a number of other hash types are supported as well.'

build(){

 make_install(){
  cd  ..
  chmod 755 {doc,run}
  chmod a+r {doc,run}/*
  mkdir -p            $DESTDIR/opt/john
  cp    -rv {doc,run} $DESTDIR/opt/john
 }

cd src

sed -i "s/-c -Wall -O2 -fomit-frame-pointer/-c -Wall $CFLAGS/" Makefile
sed -i "s/ -m486//" Makefile

make generic &&
make_install
}
