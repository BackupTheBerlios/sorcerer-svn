# cmake build for pcre 7.8 does not install libtool .la file for pcre
# and installs pcre shared libraries without the dot digits following the so
# Therefore, explicitly avoid using the cmake build for pcre 7.8

    stable 8.11 8.10 8.02
   require cmake
  optional gcc-g++
      opts --exec-prefix= --bindir=/usr/bin
  category development
 attribute library solo
    source ftp://ftp.csx.cam.ac.uk/pub/software/programming/pcre/pcre-$VERSION.tar.bz2
      opts --enable-utf8 --enable-unicode-properties --enable-static=no
#      opts -DCMAKE_INSTALL_PREFIX:PATH=/usr
#      opts -DBUILD_SHARED_LIBS:BOOL=TRUE
#      opts -DBUILD_STATIC_LIBS:BOOL=FALSE
#      opts -DPCRE_SUPPORT_UNICODE_PROPERTIES=TRUE
#      opts -DCMAKE_BUILD_TYPE=Release

## Specifying the below opts avoids a bug in the pcre's cmake files in version 7.8
#      opts -DNCURSES_LIBRARY:STRING=-lncurses

  homepage http://www.pcre.org/
  estimate 300
      desc 'Perl compatible regular expression library
pcre is a library that implement regular expression pattern matching
using the same syntax and semantics as Perl 5, with just a few differences.'

build(){
 rm -f CMakeLists.txt
# sed -i 's:-L@libdir@$libR::' pcre-config.in
 default_build
}

# current(){
#  case $VERSION in
#   8.11) grep -l "/usr/lib/libpcre.la\|/usr/lib64/libpcre.la" /usr/lib{,64}/*.la 2>/dev/null |
#         show_from | cut -d : -f1 | pipe_queue $CAST_QUEUE com ;;
#  esac
# }
